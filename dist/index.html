<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"/><title>GNOME</title><script defer="defer">/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={153:(t,e,n)=>{"use strict";const{SymbolDispose:r}=n(184),{AbortError:i,codes:o}=n(605),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:c}=n(569),l=n(700),{ERR_INVALID_ARG_TYPE:u}=o;let f;t.exports.addAbortSignal=function(e,n){if((t=>{if("object"!=typeof t||!("aborted"in t))throw new u("signal","AbortSignal",t)})(e),!s(n)&&!a(n))throw new u("stream",["ReadableStream","WritableStream","Stream"],n);return t.exports.addAbortSignalNoValidate(e,n)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const o=s(e)?()=>{e.destroy(new i(void 0,{cause:t.reason}))}:()=>{e[c](new i(void 0,{cause:t.reason}))};if(t.aborted)o();else{f=f||n(798).addAbortListener;const i=f(t,o);l(e,i[r])}return e}},515:(t,e,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:s}=n(184),{Buffer:a}=n(287),{inspect:c}=n(798);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,n=""+e.data;for(;null!==(e=e.next);)n+=t+e.data;return n}concat(t){if(0===this.length)return a.alloc(0);const e=a.allocUnsafe(t>>>0);let n=this.head,r=0;for(;n;)o(e,n.data,r),r+=n.data.length,n=n.next;return e}consume(t,e){const n=this.head.data;if(t<n.length){const e=n.slice(0,t);return this.head.data=n.slice(t),e}return t===n.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[i](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",n=this.head,i=0;do{const o=n.data;if(!(t>o.length)){t===o.length?(e+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(e+=r(o,0,t),this.head=n,n.data=r(o,t));break}e+=o,t-=o.length,++i}while(null!==(n=n.next));return this.length-=i,e}_getBuffer(t){const e=a.allocUnsafe(t),n=t;let r=this.head,i=0;do{const a=r.data;if(!(t>a.length)){t===a.length?(o(e,a,n-t),++i,r.next?this.head=r.next:this.head=this.tail=null):(o(e,new s(a.buffer,a.byteOffset,t),n-t),this.head=r,r.data=a.slice(t));break}o(e,a,n-t),t-=a.length,++i}while(null!==(r=r.next));return this.length-=i,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return c(this,{...e,depth:0,customInspect:!1})}}},864:(t,e,n)=>{"use strict";const{pipeline:r}=n(872),i=n(992),{destroyer:o}=n(430),{isNodeStream:s,isReadable:a,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:f,isReadableStream:h}=n(569),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:y}}=n(605),g=n(700);t.exports=function(...t){if(0===t.length)throw new y("streams");if(1===t.length)return i.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=i.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let n=0;n<t.length;++n)if(s(t[n])||l(t[n])){if(n<t.length-1&&!(a(t[n])||h(t[n])||u(t[n])))throw new p(`streams[${n}]`,e[n],"must be readable");if(n>0&&!(c(t[n])||f(t[n])||u(t[n])))throw new p(`streams[${n}]`,e[n],"must be writable")}let n,b,w,m,E;const S=t[0],v=r(t,(function(t){const e=m;m=null,e?e(t):t?E.destroy(t):A||_||E.destroy()})),_=!!(c(S)||f(S)||u(S)),A=!!(a(v)||h(v)||u(v));if(E=new i({writableObjectMode:!(null==S||!S.writableObjectMode),readableObjectMode:!(null==v||!v.readableObjectMode),writable:_,readable:A}),_){if(s(S))E._write=function(t,e,r){S.write(t,e)?r():n=r},E._final=function(t){S.end(),b=t},S.on("drain",(function(){if(n){const t=n;n=null,t()}}));else if(l(S)){const t=(u(S)?S.writable:S).getWriter();E._write=async function(e,n,r){try{await t.ready,t.write(e).catch((()=>{})),r()}catch(t){r(t)}},E._final=async function(e){try{await t.ready,t.close().catch((()=>{})),b=e}catch(t){e(t)}}}const t=u(v)?v.readable:v;g(t,(()=>{if(b){const t=b;b=null,t()}}))}if(A)if(s(v))v.on("readable",(function(){if(w){const t=w;w=null,t()}})),v.on("end",(function(){E.push(null)})),E._read=function(){for(;;){const t=v.read();if(null===t)return void(w=E._read);if(!E.push(t))return}};else if(l(v)){const t=(u(v)?v.readable:v).getReader();E._read=async function(){for(;;)try{const{value:e,done:n}=await t.read();if(!E.push(e))return;if(n)return void E.push(null)}catch{return}}}return E._destroy=function(t,e){t||null===m||(t=new d),w=null,n=null,b=null,null===m?e(t):(m=e,s(v)&&o(v,t))},E}},430:(t,e,n)=>{"use strict";const r=n(606),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=n(605),{Symbol:a}=n(184),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:f}=n(569),h=a("kDestroy"),d=a("kConstruct");function p(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function y(t,e,n){let i=!1;function o(e){if(i)return;i=!0;const o=t._readableState,s=t._writableState;p(e,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(e),e?r.nextTick(g,t,e):r.nextTick(b,t)}try{t._destroy(e||null,o)}catch(e){o(e)}}function g(t,e){w(t,e),b(t)}function b(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=n&&n.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function w(t,e){const n=t._readableState,r=t._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function m(t,e,n){const i=t._readableState,o=t._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?t.destroy(e):e&&(e.stack,o&&!o.errored&&(o.errored=e),i&&!i.errored&&(i.errored=e),n?r.nextTick(w,t,e):w(t,e))}function E(t){let e=!1;function n(n){if(e)return void m(t,null!=n?n:new o);e=!0;const i=t._readableState,s=t._writableState,a=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),a.destroyed?t.emit(h,n):n?m(t,n,!0):r.nextTick(S,t)}try{t._construct((t=>{r.nextTick(n,t)}))}catch(t){r.nextTick(n,t)}}function S(t){t.emit(d)}function v(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function _(t){t.emit("close")}function A(t,e){t.emit("error",e),r.nextTick(_,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const n=t._readableState,i=t._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),t.once(d,e),t.listenerCount(d)>1||r.nextTick(E,t)},destroyer:function(t,e){t&&!l(t)&&(e||u(t)||(e=new s),f(t)?(t.socket=null,t.destroy(e)):v(t)?t.abort():v(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?r.nextTick(A,t,e):r.nextTick(_,t),t.destroyed||(t[c]=!0))},destroy:function(t,e){const n=this._readableState,r=this._writableState,o=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof e&&e(),this):(p(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),o.constructed?y(this,t,e):this.once(h,(function(n){y(this,i(n,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:m}},992:(t,e,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:s}=n(184);t.exports=l;const a=n(566),c=n(394);s(l.prototype,a.prototype),s(l,a);{const t=o(c.prototype);for(let e=0;e<t.length;e++){const n=t[e];l.prototype[n]||(l.prototype[n]=c.prototype[n])}}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),c.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,f;function h(){return void 0===u&&(u={}),u}r(l.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),l.fromWeb=function(t,e){return h().newStreamDuplexFromReadableWritablePair(t,e)},l.toWeb=function(t){return h().newReadableWritablePairFromDuplex(t)},l.from=function(t){return f||(f=n(512)),f(t,"body")}},512:(t,e,n)=>{const r=n(606),i=n(287),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:c,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:f,isReadableStream:h,isWritableStream:d}=n(569),p=n(700),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:b}}=n(605),{destroyer:w}=n(430),m=n(992),E=n(566),S=n(394),{createDeferredPromise:v}=n(798),_=n(182),A=globalThis.Blob||i.Blob,N=void 0!==A?function(t){return t instanceof A}:function(t){return!1},O=globalThis.AbortController||n(568).AbortController,{FunctionPrototypeCall:I}=n(184);class R extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function x(t){const e=t.readable&&"function"!=typeof t.readable.read?E.wrap(t.readable):t.readable,n=t.writable;let r,i,a,c,l,u=!!o(e),f=!!s(n);function h(t){const e=c;c=null,e?e(t):t&&l.destroy(t)}return l=new R({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:u,writable:f}),f&&(p(n,(t=>{f=!1,t&&w(e,t),h(t)})),l._write=function(t,e,i){n.write(t,e)?i():r=i},l._final=function(t){n.end(),i=t},n.on("drain",(function(){if(r){const t=r;r=null,t()}})),n.on("finish",(function(){if(i){const t=i;i=null,t()}}))),u&&(p(e,(t=>{u=!1,t&&w(e,t),h(t)})),e.on("readable",(function(){if(a){const t=a;a=null,t()}})),e.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const t=e.read();if(null===t)return void(a=l._read);if(!l.push(t))return}}),l._destroy=function(t,o){t||null===c||(t=new y),a=null,r=null,i=null,null===c?o(t):(c=o,w(n,t),w(e,t))},l}t.exports=function t(e,n){if(f(e))return e;if(l(e))return x({readable:e});if(u(e))return x({writable:e});if(c(e))return x({writable:!1,readable:!1});if(h(e))return x({readable:E.fromWeb(e)});if(d(e))return x({writable:S.fromWeb(e)});if("function"==typeof e){const{value:t,write:i,final:o,destroy:s}=function(t){let{promise:e,resolve:n}=v();const i=new O,o=i.signal;return{value:t(async function*(){for(;;){const t=e;e=null;const{chunk:i,done:s,cb:a}=await t;if(r.nextTick(a),s)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:e,resolve:n}=v()),yield i}}(),{signal:o}),write(t,e,r){const i=n;n=null,i({chunk:t,done:!1,cb:r})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){i.abort(),e(t)}}}(e);if(a(t))return _(R,t,{objectMode:!0,write:i,final:o,destroy:s});const c=null==t?void 0:t.then;if("function"==typeof c){let e;const n=I(c,t,(t=>{if(null!=t)throw new b("nully","body",t)}),(t=>{w(e,t)}));return e=new R({objectMode:!0,readable:!1,write:i,final(t){o((async()=>{try{await n,r.nextTick(t,null)}catch(e){r.nextTick(t,e)}}))},destroy:s})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,t)}if(N(e))return t(e.arrayBuffer());if(a(e))return _(R,e,{objectMode:!0,writable:!1});if(h(null==e?void 0:e.readable)&&d(null==e?void 0:e.writable))return R.fromWeb(e);if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable))return x({readable:null!=e&&e.readable?l(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?u(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0});const i=null==e?void 0:e.then;if("function"==typeof i){let t;return I(i,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{w(t,e)})),t=new R({objectMode:!0,writable:!1,read(){}})}throw new g(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},700:(t,e,n)=>{const r=n(606),{AbortError:i,codes:o}=n(605),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:c,once:l}=n(798),{validateAbortSignal:u,validateFunction:f,validateObject:h,validateBoolean:d}=n(283),{Promise:p,PromisePrototypeThen:y,SymbolDispose:g}=n(184),{isClosed:b,isReadable:w,isReadableNodeStream:m,isReadableStream:E,isReadableFinished:S,isReadableErrored:v,isWritable:_,isWritableNodeStream:A,isWritableStream:N,isWritableFinished:O,isWritableErrored:I,isNodeStream:R,willEmitClose:x,kIsClosedPromise:T}=n(569);let k;const L=()=>{};function C(t,e,o){var d,p;if(2===arguments.length?(o=e,e=c):null==e?e=c:h(e,"options"),f(o,"callback"),u(e.signal,"options.signal"),o=l(o),E(t)||N(t))return function(t,e,o){let s=!1,a=L;if(e.signal)if(a=()=>{s=!0,o.call(t,new i(void 0,{cause:e.signal.reason}))},e.signal.aborted)r.nextTick(a);else{k=k||n(798).addAbortListener;const r=k(e.signal,a),i=o;o=l(((...e)=>{r[g](),i.apply(t,e)}))}const c=(...e)=>{s||r.nextTick((()=>o.apply(t,e)))};return y(t[T].promise,c,c),L}(t,e,o);if(!R(t))throw new s("stream",["ReadableStream","WritableStream","Stream"],t);const C=null!==(d=e.readable)&&void 0!==d?d:m(t),M=null!==(p=e.writable)&&void 0!==p?p:A(t),D=t._writableState,F=t._readableState,$=()=>{t.writable||U()};let P=x(t)&&m(t)===C&&A(t)===M,B=O(t,!1);const U=()=>{B=!0,t.destroyed&&(P=!1),(!P||t.readable&&!C)&&(C&&!j||o.call(t))};let j=S(t,!1);const W=()=>{j=!0,t.destroyed&&(P=!1),(!P||t.writable&&!M)&&(M&&!B||o.call(t))},V=e=>{o.call(t,e)};let G=b(t);const H=()=>{G=!0;const e=I(t)||v(t);return e&&"boolean"!=typeof e?o.call(t,e):C&&!j&&m(t,!0)&&!S(t,!1)?o.call(t,new a):!M||B||O(t,!1)?void o.call(t):o.call(t,new a)},Y=()=>{G=!0;const e=I(t)||v(t);if(e&&"boolean"!=typeof e)return o.call(t,e);o.call(t)},z=()=>{t.req.on("finish",U)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?M&&!D&&(t.on("end",$),t.on("close",$)):(t.on("complete",U),P||t.on("abort",H),t.req?z():t.on("request",z)),P||"boolean"!=typeof t.aborted||t.on("aborted",H),t.on("end",W),t.on("finish",U),!1!==e.error&&t.on("error",V),t.on("close",H),G?r.nextTick(H):null!=D&&D.errorEmitted||null!=F&&F.errorEmitted?P||r.nextTick(Y):(C||P&&!w(t)||!B&&!1!==_(t))&&(M||P&&!_(t)||!j&&!1!==w(t))?F&&t.req&&t.aborted&&r.nextTick(Y):r.nextTick(Y);const K=()=>{o=L,t.removeListener("aborted",H),t.removeListener("complete",U),t.removeListener("abort",H),t.removeListener("request",z),t.req&&t.req.removeListener("finish",U),t.removeListener("end",$),t.removeListener("close",$),t.removeListener("finish",U),t.removeListener("end",W),t.removeListener("error",V),t.removeListener("close",H)};if(e.signal&&!G){const s=()=>{const n=o;K(),n.call(t,new i(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)r.nextTick(s);else{k=k||n(798).addAbortListener;const r=k(e.signal,s),i=o;o=l(((...e)=>{r[g](),i.apply(t,e)}))}}return K}t.exports=C,t.exports.finished=function(t,e){var n;let r=!1;return null===e&&(e=c),null!==(n=e)&&void 0!==n&&n.cleanup&&(d(e.cleanup,"cleanup"),r=e.cleanup),new p(((n,i)=>{const o=C(t,e,(t=>{r&&o(),t?i(t):n()}))}))}},182:(t,e,n)=>{"use strict";const r=n(606),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:s}=n(184),{Buffer:a}=n(287),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:l}=n(605).codes;t.exports=function(t,e,n){let u,f;if("string"==typeof e||e instanceof a)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});if(e&&e[o])f=!0,u=e[o]();else{if(!e||!e[s])throw new c("iterable",["Iterable"],e);f=!1,u=e[s]()}const h=new t({objectMode:!0,highWaterMark:1,...n});let d=!1;return h._read=function(){d||(d=!0,async function(){for(;;){try{const{value:t,done:e}=f?await u.next():u.next();if(e)h.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw d=!1,new l;if(h.push(e))continue;d=!1}}catch(t){h.destroy(t)}break}}())},h._destroy=function(t,e){i(async function(t){const e=null!=t,n="function"==typeof u.throw;if(e&&n){const{value:e,done:n}=await u.throw(t);if(await e,n)return}if("function"==typeof u.return){const{value:t}=await u.return();await t}}(t),(()=>r.nextTick(e,t)),(n=>r.nextTick(e,n||t)))},h}},913:(t,e,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(184),{EventEmitter:o}=n(7);function s(t){o.call(this,t)}function a(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(t,e){const n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",c),n.on("close",l));let s=!1;function c(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){f(),0===o.listenerCount(this,"error")&&this.emit("error",t)}function f(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",c),n.removeListener("close",l),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return a(n,"error",u),a(t,"error",u),n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t},t.exports={Stream:s,prependListener:a}},589:(t,e,n)=>{"use strict";const r=globalThis.AbortController||n(568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:c}=n(605),{validateAbortSignal:l,validateInteger:u,validateObject:f}=n(283),h=n(184).Symbol("kWeak"),d=n(184).Symbol("kResistStopPropagation"),{finished:p}=n(700),y=n(864),{addAbortSignalNoValidate:g}=n(153),{isWritable:b,isNodeStream:w}=n(569),{deprecate:m}=n(798),{ArrayPrototypePush:E,Boolean:S,MathFloor:v,Number:_,NumberIsNaN:A,Promise:N,PromiseReject:O,PromiseResolve:I,PromisePrototypeThen:R,Symbol:x}=n(184),T=x("kEmpty"),k=x("kEof");function L(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let r=1;null!=(null==e?void 0:e.concurrency)&&(r=v(e.concurrency));let i=r-1;return null!=(null==e?void 0:e.highWaterMark)&&(i=v(e.highWaterMark)),u(r,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=r,async function*(){const o=n(798).AbortSignalAny([null==e?void 0:e.signal].filter(S)),s=this,a=[],l={signal:o};let u,f,h=!1,d=0;function p(){h=!0,y()}function y(){d-=1,g()}function g(){f&&!h&&d<r&&a.length<i&&(f(),f=null)}!async function(){try{for await(let e of s){if(h)return;if(o.aborted)throw new c;try{if(e=t(e,l),e===T)continue;e=I(e)}catch(t){e=O(t)}d+=1,R(e,y,p),a.push(e),u&&(u(),u=null),!h&&(a.length>=i||d>=r)&&await new N((t=>{f=t}))}a.push(k)}catch(t){const e=O(t);R(e,y,p),a.push(e)}finally{h=!0,u&&(u(),u=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===k)return;if(o.aborted)throw new c;t!==T&&(yield t),a.shift(),g()}await new N((t=>{u=t}))}}finally{h=!0,f&&(f(),f=null)}}.call(this)}async function C(t,e=void 0){for await(const n of M.call(this,t,e))return!0;return!1}function M(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);return L.call(this,(async function(e,n){return await t(e,n)?e:T}),e)}class D extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function F(t){if(t=_(t),A(t))return 0;if(t<0)throw new a("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:m((function(t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),async function*(){let e=0;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c({cause:t.signal.reason});yield[e++,r]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=F(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c;t--<=0&&(yield n)}}.call(this)},filter:M,flatMap:function(t,e){const n=L.call(this,t,e);return async function*(){for await(const t of n)yield*t}.call(this)},map:L,take:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=F(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c;if(t-- >0&&(yield n),t<=0)return}}.call(this)},compose:function(t,e){if(null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),w(t)&&!b(t))throw new i("stream",t,"must be writable");const n=y(this,t);return null!=e&&e.signal&&g(e.signal,n),n}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);return!await C.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new o("fn",["Function","AsyncFunction"],t);for await(const n of L.call(this,(async function(e,n){return await t(e,n),T}),e));},reduce:async function(t,e,n){var i;if("function"!=typeof t)throw new o("reducer",["Function","AsyncFunction"],t);null!=n&&f(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let s=arguments.length>1;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const t=new c(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(t)),t}const a=new r,u=a.signal;if(null!=n&&n.signal){const t={once:!0,[h]:this,[d]:!0};n.signal.addEventListener("abort",(()=>a.abort()),t)}let y=!1;try{for await(const r of this){var g;if(y=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new c;s?e=await t(e,r,{signal:u}):(e=r,s=!0)}if(!y&&!s)throw new D}finally{a.abort()}return e},toArray:async function(t){null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c(void 0,{cause:t.signal.reason});E(e,r)}return e},some:C,find:async function(t,e){for await(const n of M.call(this,t,e))return n}}},898:(t,e,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(184);t.exports=o;const i=n(208);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r(o.prototype,i.prototype),r(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},872:(t,e,n)=>{const r=n(606),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:s,SymbolDispose:a}=n(184),c=n(700),{once:l}=n(798),u=n(430),f=n(992),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:w}=n(605),{validateFunction:m,validateAbortSignal:E}=n(283),{isIterable:S,isReadable:v,isReadableNodeStream:_,isNodeStream:A,isTransformStream:N,isWebStream:O,isReadableStream:I,isReadableFinished:R}=n(569),x=globalThis.AbortController||n(568).AbortController;let T,k,L;function C(t,e,n){let r=!1;return t.on("close",(()=>{r=!0})),{destroy:e=>{r||(r=!0,u.destroyer(t,e||new g("pipe")))},cleanup:c(t,{readable:e,writable:n},(t=>{r=!t}))}}function M(t){if(S(t))return t;if(_(t))return async function*(t){k||(k=n(566)),yield*k.prototype[s].call(t)}(t);throw new d("val",["Readable","Iterable","AsyncIterable"],t)}async function D(t,e,n,{end:r}){let i,s=null;const a=t=>{if(t&&(i=t),s){const t=s;s=null,t()}},l=()=>new o(((t,e)=>{i?e(i):s=()=>{i?e(i):t()}}));e.on("drain",a);const u=c(e,{readable:!1},a);try{e.writableNeedDrain&&await l();for await(const n of t)e.write(n)||await l();r&&(e.end(),await l()),n()}catch(t){n(i!==t?h(i,t):t)}finally{u(),e.off("drain",a)}}async function F(t,e,n,{end:r}){N(e)&&(e=e.writable);const i=e.getWriter();try{for await(const e of t)await i.ready,i.write(e).catch((()=>{}));await i.ready,r&&await i.close(),n()}catch(t){try{await i.abort(t),n(t)}catch(t){n(t)}}}function $(t,e,o){if(1===t.length&&i(t[0])&&(t=t[0]),t.length<2)throw new y("streams");const s=new x,c=s.signal,l=null==o?void 0:o.signal,u=[];function h(){U(new w)}let g,b,m;E(l,"options.signal"),L=L||n(798).addAbortListener,l&&(g=L(l,h));const R=[];let k,$=0;function B(t){U(t,0==--$)}function U(t,n){var i;if(!t||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=t),b||n){for(;R.length;)R.shift()(b);null===(i=g)||void 0===i||i[a](),s.abort(),n&&(b||u.forEach((t=>t())),r.nextTick(e,b,m))}}for(let G=0;G<t.length;G++){const H=t[G],Y=G<t.length-1,z=G>0,K=Y||!1!==(null==o?void 0:o.end),X=G===t.length-1;if(A(H)){if(K){const{destroy:q,cleanup:Z}=C(H,Y,z);R.push(q),v(H)&&X&&u.push(Z)}function j(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&B(t)}H.on("error",j),v(H)&&X&&u.push((()=>{H.removeListener("error",j)}))}if(0===G)if("function"==typeof H){if(k=H({signal:c}),!S(k))throw new p("Iterable, AsyncIterable or Stream","source",k)}else k=S(H)||_(H)||N(H)?H:f.from(H);else if("function"==typeof H){var W;if(k=N(k)?M(null===(W=k)||void 0===W?void 0:W.readable):M(k),k=H(k,{signal:c}),Y){if(!S(k,!0))throw new p("AsyncIterable",`transform[${G-1}]`,k)}else{var V;T||(T=n(898));const J=new T({objectMode:!0}),Q=null===(V=k)||void 0===V?void 0:V.then;if("function"==typeof Q)$++,Q.call(k,(t=>{m=t,null!=t&&J.write(t),K&&J.end(),r.nextTick(B)}),(t=>{J.destroy(t),r.nextTick(B,t)}));else if(S(k,!0))$++,D(k,J,B,{end:K});else{if(!I(k)&&!N(k))throw new p("AsyncIterable or Promise","destination",k);{const nt=k.readable||k;$++,D(nt,J,B,{end:K})}}k=J;const{destroy:tt,cleanup:et}=C(k,!1,!0);R.push(tt),X&&u.push(et)}}else if(A(H)){if(_(k)){$+=2;const rt=P(k,H,B,{end:K});v(H)&&X&&u.push(rt)}else if(N(k)||I(k)){const it=k.readable||k;$++,D(it,H,B,{end:K})}else{if(!S(k))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],k);$++,D(k,H,B,{end:K})}k=H}else if(O(H)){if(_(k))$++,F(M(k),H,B,{end:K});else if(I(k)||S(k))$++,F(k,H,B,{end:K});else{if(!N(k))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],k);$++,F(k.readable,H,B,{end:K})}k=H}else k=f.from(H)}return(null!=c&&c.aborted||null!=l&&l.aborted)&&r.nextTick(h),k}function P(t,e,n,{end:i}){let o=!1;if(e.on("close",(()=>{o||n(new b)})),t.pipe(e,{end:!1}),i){function s(){o=!0,e.end()}R(t)?r.nextTick(s):t.once("end",s)}else n();return c(t,{readable:!0,writable:!1},(e=>{const r=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?t.once("end",n).once("error",n):n(e)})),c(e,{readable:!1,writable:!0},n)}t.exports={pipelineImpl:$,pipeline:function(...t){return $(t,l(function(t){return m(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},566:(t,e,n)=>{const r=n(606),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:f,SafeSet:h,SymbolAsyncDispose:d,SymbolAsyncIterator:p,Symbol:y}=n(184);t.exports=X,X.ReadableState=K;const{EventEmitter:g}=n(7),{Stream:b,prependListener:w}=n(913),{Buffer:m}=n(287),{addAbortSignal:E}=n(153),S=n(700);let v=n(798).debuglog("stream",(t=>{v=t}));const _=n(515),A=n(430),{getHighWaterMark:N,getDefaultHighWaterMark:O}=n(534),{aggregateTwoErrors:I,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:C}=n(605),{validateObject:M}=n(283),D=y("kPaused"),{StringDecoder:F}=n(707),$=n(182);u(X.prototype,b.prototype),u(X,b);const P=()=>{},{errorOrDestroy:B}=A,U=1,j=16,W=32,V=64,G=2048,H=4096,Y=65536;function z(t){return{enumerable:!1,get(){return!!(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function K(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(992)),this.state=G|H|j|W,t&&t.objectMode&&(this.state|=U),r&&t&&t.readableObjectMode&&(this.state|=U),this.highWaterMark=t?N(this,t,"readableHighWaterMark",r):O(!1),this.buffer=new _,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,t&&!1===t.emitClose&&(this.state&=~G),t&&!1===t.autoDestroy&&(this.state&=~H),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new F(t.encoding),this.encoding=t.encoding)}function X(t){if(!(this instanceof X))return new X(t);const e=this instanceof n(992);this._readableState=new K(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&E(t.signal,this)),b.call(this,t),A.construct(this,(()=>{this._readableState.needReadable&&et(this,this._readableState)}))}function q(t,e,n,r){v("readableAddChunk",e);const i=t._readableState;let o;if(i.state&U||("string"==typeof e?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?e=m.from(e,n).toString(i.encoding):(e=m.from(e,n),n=""))):e instanceof m?n="":b._isUint8Array(e)?(e=b._uint8ArrayToBuffer(e),n=""):null!=e&&(o=new R("chunk",["string","Buffer","Uint8Array"],e))),o)B(t,o);else if(null===e)i.state&=-9,function(t,e){if(v("onEofChunk"),!e.ended){if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?Q(t):(e.needReadable=!1,e.emittedReadable=!0,tt(t))}}(t,i);else if(i.state&U||e&&e.length>0)if(r)if(4&i.state)B(t,new L);else{if(i.destroyed||i.errored)return!1;Z(t,i,e,!0)}else if(i.ended)B(t,new k);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!n?(e=i.decoder.write(e),i.objectMode||0!==e.length?Z(t,i,e,!1):et(t,i)):Z(t,i,e,!1)}else r||(i.state&=-9,et(t,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Z(t,e,n,r){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(e.state&Y?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.state&V&&Q(t)),et(t,e)}function J(t,e){return t<=0||0===e.length&&e.ended?0:e.state&U?1:s(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function Q(t){const e=t._readableState;v("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(v("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(tt,t))}function tt(t){const e=t._readableState;v("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,st(t)}function et(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,r.nextTick(nt,t,e))}function nt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const n=e.length;if(v("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function rt(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[D]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function it(t){v("readable nexttick read 0"),t.read(0)}function ot(t,e){v("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),st(t),e.flowing&&!e.reading&&t.read(0)}function st(t){const e=t._readableState;for(v("flow",e.flowing);e.flowing&&null!==t.read(););}function at(t,e){"function"!=typeof t.read&&(t=X.wrap(t,{objectMode:!0}));const n=async function*(t,e){let n,r=P;function i(e){this===t?(r(),r=P):r=e}t.on("readable",i);const o=S(t,{writable:!1},(t=>{n=t?I(n,t):null,r(),r=P}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(n)throw n;if(null===n)return;await new f(i)}}}catch(t){throw n=I(n,t),n}finally{!n&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==n&&!t._readableState.autoDestroy?(t.off("readable",i),o()):A.destroyer(t,null)}}(t,e);return n.stream=t,n}function ct(t,e){if(0===e.length)return null;let n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function lt(t){const e=t._readableState;v("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(ut,e,t))}function ut(t,e){if(v("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)r.nextTick(ft,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function ft(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let ht;function dt(){return void 0===ht&&(ht={}),ht}c(K.prototype,{objectMode:z(U),ended:z(2),endEmitted:z(4),reading:z(8),constructed:z(j),sync:z(W),needReadable:z(V),emittedReadable:z(128),readableListening:z(256),resumeScheduled:z(512),errorEmitted:z(1024),emitClose:z(G),autoDestroy:z(H),destroyed:z(8192),closed:z(16384),closeEmitted:z(32768),multiAwaitDrain:z(Y),readingMore:z(1<<17),dataEmitted:z(1<<18)}),X.prototype.destroy=A.destroy,X.prototype._undestroy=A.undestroy,X.prototype._destroy=function(t,e){e(t)},X.prototype[g.captureRejectionSymbol]=function(t){this.destroy(t)},X.prototype[d]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new C,this.destroy(t)),new f(((e,n)=>S(this,(r=>r&&r!==t?n(r):e(null)))))},X.prototype.push=function(t,e){return q(this,t,e,!1)},X.prototype.unshift=function(t,e){return q(this,t,e,!0)},X.prototype.isPaused=function(){const t=this._readableState;return!0===t[D]||!1===t.flowing},X.prototype.setEncoding=function(t){const e=new F(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const t of n)r+=e.write(t);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this},X.prototype.read=function(t){v("read",t),void 0===t?t=NaN:o(t)||(t=a(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new T("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return v("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?lt(this):Q(this),null;if(0===(t=J(t,e))&&e.ended)return 0===e.length&&lt(this),null;let r,i=!!(e.state&V);if(v("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,v("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,v("reading, ended or constructing",i);else if(i){v("do read"),e.state|=8|W,0===e.length&&(e.state|=V);try{this._read(e.highWaterMark)}catch(t){B(this,t)}e.state&=~W,e.reading||(t=J(n,e))}return r=t>0?ct(t,e):null,null===r?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&lt(this)),null===r||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",r)),r},X.prototype._read=function(t){throw new x("_read()")},X.prototype.pipe=function(t,e){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),v("pipe count=%d opts=%j",i.pipes.length,e);const o=e&&!1===e.end||t===r.stdout||t===r.stderr?y:s;function s(){v("onend"),t.end()}let a;i.endEmitted?r.nextTick(o):n.once("end",o),t.on("unpipe",(function e(r,o){v("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,v("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),a&&t.removeListener("drain",a),t.removeListener("error",f),t.removeListener("unpipe",e),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",u),c=!0,a&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&a())}));let c=!1;function l(){c||(1===i.pipes.length&&i.pipes[0]===t?(v("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(v("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),n.pause()),a||(a=function(t,e){return function(){const n=t._readableState;n.awaitDrainWriters===e?(v("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(v("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,t),t.on("drain",a))}function u(e){v("ondata");const n=t.write(e);v("dest.write",n),!1===n&&l()}function f(e){if(v("onerror",e),y(),t.removeListener("error",f),0===t.listenerCount("error")){const n=t._writableState||t._readableState;n&&!n.errorEmitted?B(t,e):t.emit("error",e)}}function d(){t.removeListener("finish",p),y()}function p(){v("onfinish"),t.removeListener("close",d),y()}function y(){v("unpipe"),n.unpipe(t)}return n.on("data",u),w(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),!0===t.writableNeedDrain?l():i.flowing||(v("pipe resume"),n.resume()),t},X.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(e.pipes,t);return-1===n||(e.pipes.splice(n,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},X.prototype.on=function(t,e){const n=b.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,v("on readable",i.length,i.reading),i.length?Q(this):i.reading||r.nextTick(it,this))),n},X.prototype.addListener=X.prototype.on,X.prototype.removeListener=function(t,e){const n=b.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(rt,this),n},X.prototype.off=X.prototype.removeListener,X.prototype.removeAllListeners=function(t){const e=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(rt,this),e},X.prototype.resume=function(){const t=this._readableState;return t.flowing||(v("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(ot,t,e))}(this,t)),t[D]=!1,this},X.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},X.prototype.wrap=function(t){let e=!1;t.on("data",(n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{B(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const n=l(t);for(let e=1;e<n.length;e++){const r=n[e];void 0===this[r]&&"function"==typeof t[r]&&(this[r]=t[r].bind(t))}return this},X.prototype[p]=function(){return at(this)},X.prototype.iterator=function(t){return void 0!==t&&M(t,"options"),at(this,t)},c(X.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(K.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(t){this[D]=!!t}}}),X._fromList=ct,X.from=function(t,e){return $(X,t,e)},X.fromWeb=function(t,e){return dt().newStreamReadableFromReadableStream(t,e)},X.toWeb=function(t,e){return dt().newReadableStreamFromStreamReadable(t,e)},X.wrap=function(t,e){var n,r;return new X({objectMode:null===(n=null!==(r=t.readableObjectMode)&&void 0!==r?r:t.objectMode)||void 0===n||n,...e,destroy(e,n){A.destroyer(t,e),n(e)}}).wrap(t)}},534:(t,e,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(184),{validateInteger:o}=n(283),{ERR_INVALID_ARG_VALUE:s}=n(605).codes;let a=16384,c=16;function l(t){return t?c:a}t.exports={getHighWaterMark:function(t,e,n,o){const a=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,o,n);if(null!=a){if(!i(a)||a<0)throw new s(o?`options.${n}`:"options.highWaterMark",a);return r(a)}return l(t.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(t,e){o(e,"value",0),t?c=e:a=e}}},208:(t,e,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(184);t.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:o}=n(605).codes,s=n(992),{getHighWaterMark:a}=n(534);r(l.prototype,s.prototype),r(l,s);const c=i("kCallback");function l(t){if(!(this instanceof l))return new l(t);const e=t?a(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),s.call(this,t),this._readableState.sync=!1,this[c]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function u(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,n)=>{e?t?t(e):this.destroy(e):(null!=n&&this.push(n),this.push(null),t&&t())}))}function f(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(t,e,n){throw new o("_transform()")},l.prototype._write=function(t,e,n){const r=this._readableState,i=this._writableState,o=r.length;this._transform(t,e,((t,e)=>{t?n(t):(null!=e&&this.push(e),i.ended||o===r.length||r.length<r.highWaterMark?n():this[c]=n)}))},l.prototype._read=function(){if(this[c]){const t=this[c];this[c]=null,t()}}},569:(t,e,n)=>{"use strict";const{SymbolAsyncIterator:r,SymbolIterator:i,SymbolFor:o}=n(184),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),c=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),f=o("nodejs.webstream.isClosedPromise"),h=o("nodejs.webstream.controllerErrorFunction");function d(t,e=!1){var n;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(n=t._readableState)||void 0===n?void 0:n.readable)||t._writableState&&!t._readableState)}function p(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function y(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function g(t){return!(!t||y(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function b(t){return!(!t||y(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function w(t){return!(!t||y(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function m(t){if(!y(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[s]||null!=r&&r.destroyed)}function E(t){if(!p(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function S(t,e){if(!d(t))return null;const n=t._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===e&&!0===n.ended&&0===n.length))}function v(t){return t&&null!=t[c]?t[c]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!m(t)&&d(t)&&t.readable&&!S(t)}function _(t){return t&&null!=t[l]?t[l]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!m(t)&&p(t)&&t.writable&&!E(t)}function A(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function N(t){return"boolean"==typeof t._sent100&&A(t)}t.exports={isDestroyed:m,kIsDestroyed:s,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[u])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:u,isErrored:function(t){var e,n,r,i,o,s,c,l,u,f;return!(!t||!(null!==(e=null!==(n=null!==(r=null!==(i=null!==(o=null!==(s=t[a])&&void 0!==s?s:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==i?i:null===(c=t._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(l=t._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=t._readableState)||void 0===u?void 0:u.errored)&&void 0!==e?e:null===(f=t._writableState)||void 0===f?void 0:f.errored))},kIsErrored:a,isReadable:v,kIsReadable:c,kIsClosedPromise:f,kControllerErrorFunction:h,kIsWritable:l,isClosed:function(t){if(!y(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,n=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==e?void 0:e.closed)||(null==n?void 0:n.closed):"boolean"==typeof t._closed&&A(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return y(t)?!(!m(t)&&(!1!==(null==e?void 0:e.readable)&&v(t)||!1!==(null==e?void 0:e.writable)&&_(t))):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[r]:!1===e?"function"==typeof t[i]:"function"==typeof t[r]||"function"==typeof t[i])},isReadableNodeStream:d,isReadableStream:g,isReadableEnded:function(t){if(!d(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:S,isReadableErrored:function(t){var e,n;return y(t)?t.readableErrored?t.readableErrored:null!==(e=null===(n=t._readableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isNodeStream:y,isWebStream:function(t){return g(t)||b(t)||w(t)},isWritable:_,isWritableNodeStream:p,isWritableStream:b,isWritableEnded:E,isWritableFinished:function(t,e){if(!p(t))return null;if(!0===t.writableFinished)return!0;const n=t._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===e&&!0===n.ended&&0===n.length))},isWritableErrored:function(t){var e,n;return y(t)?t.writableErrored?t.writableErrored:null!==(e=null===(n=t._writableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:N,willEmitClose:function(t){if(!y(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&N(t)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:w}},394:(t,e,n)=>{const r=n(606),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:f,SymbolHasInstance:h}=n(184);t.exports=M,M.WritableState=L;const{EventEmitter:d}=n(7),p=n(913).Stream,{Buffer:y}=n(287),g=n(430),{addAbortSignal:b}=n(153),{getHighWaterMark:w,getDefaultHighWaterMark:m}=n(534),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:_,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:N,ERR_STREAM_NULL_VALUES:O,ERR_STREAM_WRITE_AFTER_END:I,ERR_UNKNOWN_ENCODING:R}=n(605).codes,{errorOrDestroy:x}=g;function T(){}l(M.prototype,p.prototype),l(M,p);const k=f("kOnFinished");function L(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(992)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?w(this,t,"writableHighWaterMark",r):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!t||!1!==t.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,C(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function C(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function M(t){const e=this instanceof n(992);if(!e&&!s(M,this))return new M(t);this._writableState=new L(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&b(t.signal,this)),p.call(this,t),g.construct(this,(()=>{const t=this._writableState;t.writing||W(this,t),G(this,t)}))}function D(t,e,n,i){const o=t._writableState;if("function"==typeof n)i=n,n=o.defaultEncoding;else{if(n){if("buffer"!==n&&!y.isEncoding(n))throw new R(n)}else n=o.defaultEncoding;"function"!=typeof i&&(i=T)}if(null===e)throw new O;if(!o.objectMode)if("string"==typeof e)!1!==o.decodeStrings&&(e=y.from(e,n),n="buffer");else if(e instanceof y)n="buffer";else{if(!p._isUint8Array(e))throw new E("chunk",["string","Buffer","Uint8Array"],e);e=p._uint8ArrayToBuffer(e),n="buffer"}let s;return o.ending?s=new I:o.destroyed&&(s=new A("write")),s?(r.nextTick(i,s),x(t,s,!0),s):(o.pendingcb++,function(t,e,n,r,i){const o=e.objectMode?1:n.length;e.length+=o;const s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:n,encoding:r,callback:i}),e.allBuffers&&"buffer"!==r&&(e.allBuffers=!1),e.allNoop&&i!==T&&(e.allNoop=!1)):(e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,t._write(n,r,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}(t,o,e,n,i))}function F(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new A("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function $(t,e,n,r){--e.pendingcb,r(n),j(e),x(t,n)}function P(t,e){const n=t._writableState,i=n.sync,o=n.writecb;"function"==typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,e?(e.stack,n.errored||(n.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?r.nextTick($,t,n,e,o):$(t,n,e,o)):(n.buffered.length>n.bufferedIndex&&W(t,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:t,state:n},r.nextTick(B,n.afterWriteTickInfo)):U(t,n,1,o))):x(t,new v)}function B({stream:t,state:e,count:n,cb:r}){return e.afterWriteTickInfo=null,U(t,e,n,r)}function U(t,e,n,r){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));n-- >0;)e.pendingcb--,r();e.destroyed&&j(e),G(t,e)}function j(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;const{chunk:r,callback:i}=t.buffered[n],o=t.objectMode?1:r.length;t.length-=o,i(null!==(e=t.errored)&&void 0!==e?e:new A("write"))}const n=t[k].splice(0);for(let e=0;e<n.length;e++){var r;n[e](null!==(r=t.errored)&&void 0!==r?r:new A("end"))}C(t)}function W(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:o}=e,s=n.length-r;if(!s)return;let a=r;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;const r=e.allNoop?T:t=>{for(let e=a;e<n.length;++e)n[e].callback(t)},o=e.allNoop&&0===a?n:i(n,a);o.allBuffers=e.allBuffers,F(t,e,!0,e.length,o,"",r),C(e)}else{do{const{chunk:r,encoding:i,callback:s}=n[a];n[a++]=null,F(t,e,!1,o?1:r.length,r,i,s)}while(a<n.length&&!e.writing);a===n.length?C(e):a>256?(n.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}function V(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function G(t,e,n){V(e)&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let n=!1;function i(i){if(n)x(t,null!=i?i:v());else if(n=!0,e.pendingcb--,i){const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t](i);x(t,i,e.sync)}else V(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,r.nextTick(H,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(t){i(t)}e.sync=!1}(t,e)))}(t,e),0===e.pendingcb&&(n?(e.pendingcb++,r.nextTick(((t,e)=>{V(e)?H(t,e):e.pendingcb--}),t,e)):V(e)&&(e.pendingcb++,H(t,e))))}function H(t,e){e.pendingcb--,e.finished=!0;const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}L.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},a(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(M,h,{__proto__:null,value:function(t){return!!s(this,t)||this===M&&t&&t._writableState instanceof L}}),M.prototype.pipe=function(){x(this,new _)},M.prototype.write=function(t,e,n){return!0===D(this,t,e,n)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||W(this,t))},M.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=u(t)),!y.isEncoding(t))throw new R(t);return this._writableState.defaultEncoding=t,this},M.prototype._write=function(t,e,n){if(!this._writev)throw new S("_write()");this._writev([{chunk:t,encoding:e}],n)},M.prototype._writev=null,M.prototype.end=function(t,e,n){const i=this._writableState;let s;if("function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t){const n=D(this,t,e);n instanceof o&&(s=n)}return i.corked&&(i.corked=1,this.uncork()),s||(i.errored||i.ending?i.finished?s=new N("end"):i.destroyed&&(s=new A("end")):(i.ending=!0,G(this,i,!0),i.ended=!0)),"function"==typeof n&&(s||i.finished?r.nextTick(n,s):i[k].push(n)),this},c(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&!t.destroyed&&!t.ending&&t.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Y=g.destroy;let z;function K(){return void 0===z&&(z={}),z}M.prototype.destroy=function(t,e){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[k].length)&&r.nextTick(j,n),Y.call(this,t,e),this},M.prototype._undestroy=g.undestroy,M.prototype._destroy=function(t,e){e(t)},M.prototype[d.captureRejectionSymbol]=function(t){this.destroy(t)},M.fromWeb=function(t,e){return K().newStreamWritableFromWritableStream(t,e)},M.toWeb=function(t){return K().newWritableStreamFromStreamWritable(t)}},283:(t,e,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:f,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:y,StringPrototypeTrim:g}=n(184),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:v}}=n(605),{normalizeEncoding:_}=n(798),{isAsyncFunction:A,isArrayBufferView:N}=n(798).types,O={},I=/^[0-7]+$/,R=b(((t,e,n=u,r=l)=>{if("number"!=typeof t)throw new m(e,"number",t);if(!a(t))throw new S(e,"an integer",t);if(t<n||t>r)throw new S(e,`>= ${n} && <= ${r}`,t)})),x=b(((t,e,n=-2147483648,r=2147483647)=>{if("number"!=typeof t)throw new m(e,"number",t);if(!a(t))throw new S(e,"an integer",t);if(t<n||t>r)throw new S(e,`>= ${n} && <= ${r}`,t)})),T=b(((t,e,n=!1)=>{if("number"!=typeof t)throw new m(e,"number",t);if(!a(t))throw new S(e,"an integer",t);const r=n?1:0,i=4294967295;if(t<r||t>i)throw new S(e,`>= ${r} && <= ${i}`,t)}));function k(t,e){if("string"!=typeof t)throw new m(e,"string",t)}const L=b(((t,e,n)=>{if(!i(n,t)){const r=o(s(n,(t=>"string"==typeof t?`'${t}'`:p(t))),", ");throw new E(e,t,"must be one of: "+r)}}));function C(t,e){if("boolean"!=typeof t)throw new m(e,"boolean",t)}function M(t,e,n){return null!=t&&h(t,e)?t[e]:n}const D=b(((t,e,n=null)=>{const i=M(n,"allowArray",!1),o=M(n,"allowFunction",!1);if(!M(n,"nullable",!1)&&null===t||!i&&r(t)||"object"!=typeof t&&(!o||"function"!=typeof t))throw new m(e,"Object",t)})),F=b(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new m(e,"a dictionary",t)})),$=b(((t,e,n=0)=>{if(!r(t))throw new m(e,"Array",t);if(t.length<n)throw new E(e,t,`must be longer than ${n}`)})),P=b(((t,e="buffer")=>{if(!N(t))throw new m(e,["Buffer","TypedArray","DataView"],t)})),B=b(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new m(e,"AbortSignal",t)})),U=b(((t,e)=>{if("function"!=typeof t)throw new m(e,"Function",t)})),j=b(((t,e)=>{if("function"!=typeof t||A(t))throw new m(e,"Function",t)})),W=b(((t,e)=>{if(void 0!==t)throw new m(e,"undefined",t)})),V=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function G(t,e){if(void 0===t||!d(V,t))throw new E(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,n){if(void 0===t&&(t=n),"string"==typeof t){if(null===d(I,t))throw new E(e,t,"must be a 32-bit unsigned integer or an octal string");t=f(t,8)}return T(t,e),t},validateArray:$,validateStringArray:function(t,e){$(t,e);for(let n=0;n<t.length;n++)k(t[n],`${e}[${n}]`)},validateBooleanArray:function(t,e){$(t,e);for(let n=0;n<t.length;n++)C(t[n],`${e}[${n}]`)},validateAbortSignalArray:function(t,e){$(t,e);for(let n=0;n<t.length;n++){const r=t[n],i=`${e}[${n}]`;if(null==r)throw new m(i,"AbortSignal",r);B(r,i)}},validateBoolean:C,validateBuffer:P,validateDictionary:F,validateEncoding:function(t,e){const n=_(e),r=t.length;if("hex"===n&&r%2!=0)throw new E("encoding",e,`is invalid for data of length ${r}`)},validateFunction:U,validateInt32:x,validateInteger:R,validateNumber:function(t,e,n=void 0,r){if("number"!=typeof t)throw new m(e,"number",t);if(null!=n&&t<n||null!=r&&t>r||(null!=n||null!=r)&&c(t))throw new S(e,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,t)},validateObject:D,validateOneOf:L,validatePlainFunction:j,validatePort:function(t,e="Port",n=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===g(t).length||+t!=+t>>>0||t>65535||0===t&&!n)throw new w(e,t,n);return 0|t},validateSignalName:function(t,e="signal"){if(k(t,e),void 0===O[t]){if(void 0!==O[y(t)])throw new v(t+" (signals must use all capital letters)");throw new v(t)}},validateString:k,validateUint32:T,validateUndefined:W,validateUnion:function(t,e,n){if(!i(n,t))throw new m(e,`('${o(n,"|")}')`,t)},validateAbortSignal:B,validateLinkHeaderValue:function(t){if("string"==typeof t)return G(t,"hints"),t;if(r(t)){const e=t.length;let n="";if(0===e)return n;for(let r=0;r<e;r++){const i=t[r];G(i,"hints"),n+=i,r!==e-1&&(n+=", ")}return n}throw new E("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},248:(t,e,n)=>{"use strict";const r=n(612),i=n(105),o=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=o,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),t.exports.Stream=r.Stream,t.exports.default=t.exports},605:(t,e,n)=>{"use strict";const{format:r,inspect:i,AggregateError:o}=n(798),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function f(t,e){if(!t)throw new u.ERR_INTERNAL_ASSERTION(e)}function h(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function d(t,e,n){n||(n=Error);class i extends n{constructor(...n){super(function(t,e,n){if("function"==typeof e)return f(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const i=(e.match(/%[dfijoOs]/g)||[]).length;return f(i===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?e:r(e,...n)}(t,e,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[a]=!0,u[t]=i}function p(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class y extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new u.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",((t,e,n)=>{f("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const o=[],s=[],a=[];for(const t of e)f("string"==typeof t,"All expected entries have to be of type string"),c.includes(t)?o.push(t.toLowerCase()):l.test(t)?s.push(t):(f("object"!==t,'The value "object" should be written as "Object"'),a.push(t));if(s.length>0){const t=o.indexOf("object");-1!==t&&(o.splice(o,t,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:r+=`of type ${o[0]}`;break;case 2:r+=`one of type ${o[0]} or ${o[1]}`;break;default:{const t=o.pop();r+=`one of type ${o.join(", ")}, or ${t}`}}(s.length>0||a.length>0)&&(r+=" or ")}if(s.length>0){switch(s.length){case 1:r+=`an instance of ${s[0]}`;break;case 2:r+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();r+=`an instance of ${s.join(", ")}, or ${t}`}}a.length>0&&(r+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(r+="an "),r+=`${a[0]}`;break;case 2:r+=`one of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();r+=`one of ${a.join(", ")}, or ${t}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var u;null!==(u=n.constructor)&&void 0!==u&&u.name?r+=`. Received an instance of ${n.constructor.name}`:r+=`. Received ${i(n,{depth:-1})}`}else{let t=i(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),r+=`. Received type ${typeof n} (${t})`}return r}),TypeError),d("ERR_INVALID_ARG_VALUE",((t,e,n="is invalid")=>{let r=i(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`}),TypeError),d("ERR_INVALID_RETURN_VALUE",((t,e,n)=>{var r;return`Expected ${t} to be returned from the "${e}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),d("ERR_MISSING_ARGS",((...t)=>{let e;f(t.length>0,"At least one arg needs to be specified");const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}}return`${e} must be specified`}),TypeError),d("ERR_OUT_OF_RANGE",((t,e,n)=>{let r;return f(e,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=h(String(n)):"bigint"==typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=h(r)),r+="n"):r=i(n),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`}),RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:y,aggregateTwoErrors:p((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new s([e,t],e.message);return n.code=e.code,n}return t||e})),hideStackFrames:p,codes:u}},184:t=>{"use strict";t.exports={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,n)=>t.slice(e,n),Error,FunctionPrototypeCall:(t,e,...n)=>t.call(e,...n),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,n)=>Object.defineProperty(t,e,n),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,n)=>t.then(e,n),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,n)=>t.slice(e,n),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,n)=>t.set(e,n),Boolean,Uint8Array}},798:(t,e,n)=>{"use strict";const r=n(287),{kResistStopPropagation:i,SymbolDispose:o}=n(184),s=globalThis.AbortSignal||n(568).AbortSignal,a=globalThis.AbortController||n(568).AbortController,c=Object.getPrototypeOf((async function(){})).constructor,l=globalThis.Blob||r.Blob,u=void 0!==l?function(t){return t instanceof l}:function(t){return!1},f=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)};class h extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let n=0;n<t.length;n++)e+=`    ${t[n].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...n){e||(e=!0,t.apply(this,n))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((n,r)=>{t=n,e=r})),resolve:t,reject:e}},promisify:t=>new Promise(((e,n)=>{t(((t,...r)=>t?n(t):e(...r)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,n]){const r=e.shift();return"f"===n?r.toFixed(6):"j"===n?JSON.stringify(r):"s"===n&&"object"==typeof r?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof c,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:u,deprecate:(t,e)=>t,addAbortListener:n(7).addAbortListener||function(t,e){if(void 0===t)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);let n;return f(t,"signal"),(t=>{if("function"!=typeof t)throw new ERR_INVALID_ARG_TYPE("listener","Function",t)})(e),t.aborted?queueMicrotask((()=>e())):(t.addEventListener("abort",e,{__proto__:null,once:!0,[i]:!0}),n=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[o](){var t;null===(t=n)||void 0===t||t()}}},AbortSignalAny:s.any||function(t){if(1===t.length)return t[0];const e=new a,n=()=>e.abort();return t.forEach((t=>{f(t,"signals"),t.addEventListener("abort",n,{once:!0})})),e.signal.addEventListener("abort",(()=>{t.forEach((t=>t.removeEventListener("abort",n)))}),{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},612:(t,e,n)=>{const{Buffer:r}=n(287),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:s}=n(184),{promisify:{custom:a}}=n(798),{streamReturningOperators:c,promiseReturningOperators:l}=n(589),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=n(605),f=n(864),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:d}=n(534),{pipeline:p}=n(872),{destroyer:y}=n(430),g=n(700),b=n(105),w=n(569),m=t.exports=n(913).Stream;m.isDestroyed=w.isDestroyed,m.isDisturbed=w.isDisturbed,m.isErrored=w.isErrored,m.isReadable=w.isReadable,m.isWritable=w.isWritable,m.Readable=n(566);for(const v of o(c)){const _=c[v];function E(...t){if(new.target)throw u();return m.Readable.from(s(_,this,t))}i(E,"name",{__proto__:null,value:_.name}),i(E,"length",{__proto__:null,value:_.length}),i(m.Readable.prototype,v,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(const A of o(l)){const N=l[A];function E(...t){if(new.target)throw u();return s(N,this,t)}i(E,"name",{__proto__:null,value:N.name}),i(E,"length",{__proto__:null,value:N.length}),i(m.Readable.prototype,A,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}m.Writable=n(394),m.Duplex=n(992),m.Transform=n(208),m.PassThrough=n(898),m.pipeline=p;const{addAbortSignal:S}=n(153);m.addAbortSignal=S,m.finished=g,m.destroy=y,m.compose=f,m.setDefaultHighWaterMark=h,m.getDefaultHighWaterMark=d,i(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),i(p,a,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),i(g,a,{__proto__:null,enumerable:!0,get:()=>b.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(t){return r.from(t.buffer,t.byteOffset,t.byteLength)}},105:(t,e,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(184),{isIterable:o,isNodeStream:s,isWebStream:a}=n(569),{pipelineImpl:c}=n(872),{finished:l}=n(700);n(612),t.exports={finished:l,pipeline:function(...t){return new i(((e,n)=>{let i,l;const u=t[t.length-1];if(u&&"object"==typeof u&&!s(u)&&!o(u)&&!a(u)){const e=r(t);i=e.signal,l=e.end}c(t,((t,r)=>{t?n(t):e(r)}),{signal:i,end:l})}))}}},707:(t,e,n)=>{"use strict";var r=n(861).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},568:t=>{"use strict";const{AbortController:e,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=n,t.exports.default=e},526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],c=o[1],l=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),u=0,f=c>0?s-4:s;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(c(t,a,a+s>l?l:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},287:(t,e,n)=>{"use strict";const r=n(526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|y(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||q(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return u(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(i)return r?-1:Y(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return N(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(l(t,o+r)!==l(e,r)){n=!1;break}if(n)return o}return-1}function E(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(q(r))return s;t[n+s]=r}return s}function S(t,e,n,r){return K(Y(e,t.length-n),t,n,r)}function v(t,e,n,r){return K(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return K(z(e),t,n,r)}function A(t,e,n,r){return K(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function N(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(X(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?O(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<a;++t)if(l[t]!==u[t]){o=l[t],s=u[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":case"latin1":case"binary":return v(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function R(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=Z[t[r]];return i}function k(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function D(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function F(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(t,e,n,r,o){return e=+e,n>>>=0,o||F(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,o){return e=+e,n>>>=0,o||F(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=J((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=J((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=J((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=J((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=J((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return $(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return $(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const B={};function U(t,e,n){B[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||G(e,t.length-(n+1))}(r,i,o)}function V(t,e){if("number"!=typeof t)throw new B.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,n){if(Math.floor(t)!==t)throw V(t,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=j(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function Y(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function q(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},228:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,s),!0}for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),f){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;case 4:u[l].fn.call(u[l].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},7:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&y(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,s,l;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function h(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},251:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+f],f+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+f],f+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*y}},183:function(t,e,n){var r,i,o;t=n.nmd(t),function(s,a,c){"use strict";var l={function:!0,object:!0},u=l[typeof e]&&e&&!e.nodeType&&e,f=l.object&&t&&!t.nodeType&&t,h=u&&f&&"object"==typeof n.g&&n.g,d=f&&f.exports===u&&u;!h||h.global!==h&&h.window!==h&&h.self,i=[e],void 0===(o="function"==typeof(r=c)?r.apply(e,i):r)||(t.exports=o),u&&d&&c(f.exports)}(0,0,(function(t){"use strict";var e,n,r,i,o;t.version="0.3.1";var s=t.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function a(t,e){return e=e||0,t<128?String.fromCharCode(t):t<2048?String.fromCharCode(192|e|t>>6,128|e|63&t):t<65536?String.fromCharCode(224|e|t>>12,128|e|t>>6&63,128|e|63&t):t<1114112?String.fromCharCode(240|e|t>>18,128|e|t>>12&63,128|e|t>>6&63,128|e|63&t):null}function c(t){return function(e){var n=t.exec(e);if(!n)return e;P(null,m.invalidCodeUnit,function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e}(n[0].charCodeAt(0)).toUpperCase())}}var l={"pseudo-latin1":{fixup:c(/[^\x00-\xff]/),encodeByte:function(t){return null===t?"":String.fromCharCode(t)},encodeUTF8:function(t){return a(t)}},"x-user-defined":{fixup:c(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(t){return null===t?"":t>=128?String.fromCharCode(63232|t):String.fromCharCode(t)},encodeUTF8:function(t){return a(t,63232)}},none:{discardStrings:!0,fixup:function(t){return t},encodeByte:function(t){return""},encodeUTF8:function(t){return""}}},u=1,f=2,h=4,d=8,p=16,y=32,g=64,b=128,w=256;t.tokenTypes={EOF:u,StringLiteral:f,Keyword:h,Identifier:d,NumericLiteral:p,Punctuator:y,BooleanLiteral:g,NilLiteral:b,VarargLiteral:w};var m=t.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},E=t.ast={labelStatement:function(t){return{type:"LabelStatement",label:t}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(t){return{type:"GotoStatement",label:t}},returnStatement:function(t){return{type:"ReturnStatement",arguments:t}},ifStatement:function(t){return{type:"IfStatement",clauses:t}},ifClause:function(t,e){return{type:"IfClause",condition:t,body:e}},elseifClause:function(t,e){return{type:"ElseifClause",condition:t,body:e}},elseClause:function(t){return{type:"ElseClause",body:t}},whileStatement:function(t,e){return{type:"WhileStatement",condition:t,body:e}},doStatement:function(t){return{type:"DoStatement",body:t}},repeatStatement:function(t,e){return{type:"RepeatStatement",condition:t,body:e}},localStatement:function(t,e){return{type:"LocalStatement",variables:t,init:e}},assignmentStatement:function(t,e){return{type:"AssignmentStatement",variables:t,init:e}},callStatement:function(t){return{type:"CallStatement",expression:t}},functionStatement:function(t,e,n,r){return{type:"FunctionDeclaration",identifier:t,isLocal:n,parameters:e,body:r}},forNumericStatement:function(t,e,n,r,i){return{type:"ForNumericStatement",variable:t,start:e,end:n,step:r,body:i}},forGenericStatement:function(t,e,n){return{type:"ForGenericStatement",variables:t,iterators:e,body:n}},chunk:function(t){return{type:"Chunk",body:t}},identifier:function(t){return{type:"Identifier",name:t}},literal:function(t,e,n){return{type:t=t===f?"StringLiteral":t===p?"NumericLiteral":t===g?"BooleanLiteral":t===b?"NilLiteral":"VarargLiteral",value:e,raw:n}},tableKey:function(t,e){return{type:"TableKey",key:t,value:e}},tableKeyString:function(t,e){return{type:"TableKeyString",key:t,value:e}},tableValue:function(t){return{type:"TableValue",value:t}},tableConstructorExpression:function(t){return{type:"TableConstructorExpression",fields:t}},binaryExpression:function(t,e,n){return{type:"and"===t||"or"===t?"LogicalExpression":"BinaryExpression",operator:t,left:e,right:n}},unaryExpression:function(t,e){return{type:"UnaryExpression",operator:t,argument:e}},memberExpression:function(t,e,n){return{type:"MemberExpression",indexer:e,identifier:n,base:t}},indexExpression:function(t,e){return{type:"IndexExpression",base:t,index:e}},callExpression:function(t,e){return{type:"CallExpression",base:t,arguments:e}},tableCallExpression:function(t,e){return{type:"TableCallExpression",base:t,arguments:e}},stringCallExpression:function(t,e){return{type:"StringCallExpression",base:t,argument:e}},comment:function(t,e){return{type:"Comment",value:t,raw:e}}};function S(t){if(ut){var e=ft.pop();e.complete(),e.bless(t)}return n.onCreateNode&&n.onCreateNode(t),t}var v=Array.prototype.slice,_=(Object.prototype.toString,function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return n;return-1});function A(t){var e=v.call(arguments,1);return t=t.replace(/%(\d)/g,(function(t,n){return""+e[n-1]||""})),t}Array.prototype.indexOf&&(_=function(t,e){return t.indexOf(e)});var N,O,I,R,x,T,k,L,C,M,D,F=function(t){for(var e,n,r=v.call(arguments,1),i=0,o=r.length;i<o;++i)for(n in e=r[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t};function $(t){return Object.create?Object.create(t,{line:{writable:!0,value:t.line},index:{writable:!0,value:t.index},column:{writable:!0,value:t.column}}):t}function P(t){var e,n,r=A.apply(null,v.call(arguments,1));throw null===t||void 0===t.line?(n=N-L+1,(e=$(new SyntaxError(A("[%1:%2] %3",k,n,r)))).index=N,e.line=k,e.column=n):(n=t.range[0]-t.lineStart,(e=$(new SyntaxError(A("[%1:%2] %3",t.line,n,r)))).line=t.line,e.index=t.range[0],e.column=n),e}function B(t){return e.slice(t.range[0],t.range[1])||t.value}function U(t,e){P(e,m.expectedToken,t,B(e))}function j(t){var e=B(R);if(void 0!==t.type){var n;switch(t.type){case f:n="string";break;case h:n="keyword";break;case d:n="identifier";break;case p:n="number";break;case y:n="symbol";break;case g:n="boolean";break;case b:return P(t,m.unexpected,"symbol","nil",e);case u:return P(t,m.unexpectedEOF)}return P(t,m.unexpected,n,B(t),e)}return P(t,m.unexpected,"symbol",t,e)}function W(){for(G();45===e.charCodeAt(N)&&45===e.charCodeAt(N+1);)K(),G();if(N>=r)return{type:u,value:"<eof>",line:k,lineStart:L,range:[N,N]};var t,n,s,a=e.charCodeAt(N),c=e.charCodeAt(N+1);if(T=N,function(t){return t>=65&&t<=90||t>=97&&t<=122||95===t||!!(i.extendedIdentifiers&&t>=128)}(a))return function(){for(var t,n;nt(e.charCodeAt(++N)););return!function(t){switch(t.length){case 2:return"do"===t||"if"===t||"in"===t||"or"===t;case 3:return"and"===t||"end"===t||"for"===t||"not"===t;case 4:return"else"===t||"then"===t||!(!i.labels||i.contextualGoto)&&"goto"===t;case 5:return"break"===t||"local"===t||"until"===t||"while"===t;case 6:return"elseif"===t||"repeat"===t||"return"===t;case 8:return"function"===t}return!1}(t=o.fixup(e.slice(T,N)))?"true"===t||"false"===t?(n=g,t="true"===t):"nil"===t?(n=b,t=null):n=d:n=h,{type:n,value:t,line:k,lineStart:L,range:[T,N]}}();switch(a){case 39:case 34:return function(){for(var t,n=e.charCodeAt(N++),i=k,s=L,a=N,c=o.discardStrings?null:"";n!==(t=e.charCodeAt(N++));)if((N>r||Q(t))&&(c+=e.slice(a,N-1),P(null,m.unfinishedString,e.slice(T,N-1))),92===t){if(!o.discardStrings){var l=e.slice(a,N-1);c+=o.fixup(l)}var u=z();o.discardStrings||(c+=u),a=N}return o.discardStrings||(c+=o.encodeByte(null),c+=o.fixup(e.slice(a,N-1))),{type:f,value:c,line:i,lineStart:s,lastLine:k,lastLineStart:L,range:[T,N]}}();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Y();case 46:return tt(c)?Y():46===c?46===e.charCodeAt(N+2)?{type:w,value:"...",line:k,lineStart:L,range:[T,N+=3]}:H(".."):H(".");case 61:return H(61===c?"==":"=");case 62:return i.bitwiseOperators&&62===c?H(">>"):H(61===c?">=":">");case 60:return i.bitwiseOperators&&60===c?H("<<"):H(61===c?"<=":"<");case 126:if(61===c)return H("~=");if(!i.bitwiseOperators)break;return H("~");case 58:return i.labels&&58===c?H("::"):H(":");case 91:return 91===c||61===c?(t=k,n=L,!1===(s=X(!1))&&P(O,m.expected,"[",B(O)),{type:f,value:o.discardStrings?null:o.fixup(s),line:t,lineStart:n,lastLine:k,lastLineStart:L,range:[T,N]}):H("[");case 47:return i.integerDivision&&47===c?H("//"):H("/");case 38:case 124:if(!i.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return H(e.charAt(N))}return j(e.charAt(N))}function V(){var t=e.charCodeAt(N),n=e.charCodeAt(N+1);return!!Q(t)&&(10===t&&13===n&&++N,13===t&&10===n&&++N,++k,L=++N,!0)}function G(){for(;N<r;)if(9===(t=e.charCodeAt(N))||32===t||11===t||12===t)++N;else if(!V())break;var t}function H(t){return N+=t.length,{type:y,value:t,line:k,lineStart:L,range:[T,N]}}function Y(){var t=e.charAt(N),n=e.charAt(N+1),r="0"===t&&"xX".indexOf(n||null)>=0?function(){var t,n,r,i,o=0,s=1,a=1;for(i=N+=2,et(e.charCodeAt(N))||P(null,m.malformedNumber,e.slice(T,N));et(e.charCodeAt(N));)++N;t=parseInt(e.slice(i,N),16);var c=!1;if("."===e.charAt(N)){for(c=!0,n=++N;et(e.charCodeAt(N));)++N;o=e.slice(n,N),o=n===N?0:parseInt(o,16)/Math.pow(16,N-n)}var l=!1;if("pP".indexOf(e.charAt(N)||null)>=0){for(l=!0,++N,"+-".indexOf(e.charAt(N)||null)>=0&&(a="+"===e.charAt(N++)?1:-1),r=N,tt(e.charCodeAt(N))||P(null,m.malformedNumber,e.slice(T,N));tt(e.charCodeAt(N));)++N;s=e.slice(r,N),s=Math.pow(2,s*a)}return{value:(t+o)*s,hasFractionPart:c||l}}():function(){for(;tt(e.charCodeAt(N));)++N;var t=!1;if("."===e.charAt(N))for(t=!0,++N;tt(e.charCodeAt(N));)++N;var n=!1;if("eE".indexOf(e.charAt(N)||null)>=0)for(n=!0,++N,"+-".indexOf(e.charAt(N)||null)>=0&&++N,tt(e.charCodeAt(N))||P(null,m.malformedNumber,e.slice(T,N));tt(e.charCodeAt(N));)++N;return{value:parseFloat(e.slice(T,N)),hasFractionPart:t||n}}(),o=function(){if(i.imaginaryNumbers)return"iI".indexOf(e.charAt(N)||null)>=0&&(++N,!0)}();return function(){if(i.integerSuffixes)if("uU".indexOf(e.charAt(N)||null)>=0)if(++N,"lL".indexOf(e.charAt(N)||null)>=0){if(++N,"lL".indexOf(e.charAt(N)||null)>=0)return++N,"ULL";P(null,m.malformedNumber,e.slice(T,N))}else P(null,m.malformedNumber,e.slice(T,N));else if("lL".indexOf(e.charAt(N)||null)>=0){if(++N,"lL".indexOf(e.charAt(N)||null)>=0)return++N,"LL";P(null,m.malformedNumber,e.slice(T,N))}}()&&(o||r.hasFractionPart)&&P(null,m.malformedNumber,e.slice(T,N)),{type:p,value:r.value,line:k,lineStart:L,range:[T,N]}}function z(){var t=N;switch(e.charAt(N)){case"a":return++N,"";case"n":return++N,"\n";case"r":return++N,"\r";case"t":return++N,"\t";case"v":return++N,"\v";case"b":return++N,"\b";case"f":return++N,"\f";case"\r":case"\n":return V(),"\n";case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;tt(e.charCodeAt(N))&&N-t<3;)++N;var n=e.slice(t,N),r=parseInt(n,10);return r>255&&P(null,m.decimalEscapeTooLarge,"\\"+r),o.encodeByte(r,"\\"+n);case"z":if(i.skipWhitespaceEscape)return++N,G(),"";break;case"x":if(i.hexEscapes){if(et(e.charCodeAt(N+1))&&et(e.charCodeAt(N+2)))return N+=3,o.encodeByte(parseInt(e.slice(t+1,N),16),"\\"+e.slice(t,N));P(null,m.hexadecimalDigitExpected,"\\"+e.slice(t,N+2))}break;case"u":if(i.unicodeEscapes)return function(){var t=N++;for("{"!==e.charAt(N++)&&P(null,m.braceExpected,"{","\\"+e.slice(t,N)),et(e.charCodeAt(N))||P(null,m.hexadecimalDigitExpected,"\\"+e.slice(t,N));48===e.charCodeAt(N);)++N;for(var n=N;et(e.charCodeAt(N));)++N-n>6&&P(null,m.tooLargeCodepoint,"\\"+e.slice(t,N));var r=e.charAt(N++);"}"!==r&&('"'===r||"'"===r?P(null,m.braceExpected,"}","\\"+e.slice(t,N--)):P(null,m.hexadecimalDigitExpected,"\\"+e.slice(t,N)));var i=parseInt(e.slice(n,N-1)||"0",16),s="\\"+e.slice(t,N);return i>1114111&&P(null,m.tooLargeCodepoint,s),o.encodeUTF8(i,s)}();break;case"\\":case'"':case"'":return e.charAt(N++)}return i.strictEscapes&&P(null,m.invalidEscape,"\\"+e.slice(t,N+1)),e.charAt(N++)}function K(){T=N,N+=2;var t=e.charAt(N),i="",o=!1,s=N,a=L,c=k;if("["===t&&(!1===(i=X(!0))?i=t:o=!0),!o){for(;N<r&&!Q(e.charCodeAt(N));)++N;n.comments&&(i=e.slice(s,N))}if(n.comments){var l=E.comment(i,e.slice(T,N));n.locations&&(l.loc={start:{line:c,column:T-a},end:{line:k,column:N-L}}),n.ranges&&(l.range=[T,N]),n.onCreateNode&&n.onCreateNode(l),x.push(l)}}function X(t){var n,i=0,o="",s=!1,a=k;for(++N;"="===e.charAt(N+i);)++i;if("["!==e.charAt(N+i))return!1;for(N+=i+1,Q(e.charCodeAt(N))&&V(),n=N;N<r;){for(;Q(e.charCodeAt(N));)V();if("]"===e.charAt(N++)){s=!0;for(var c=0;c<i;++c)"="!==e.charAt(N+c)&&(s=!1);"]"!==e.charAt(N+i)&&(s=!1)}if(s)return o+=e.slice(n,N-1),N+=i+1,o}P(null,t?m.unfinishedLongComment:m.unfinishedLongString,a,"<eof>")}function q(){I=O,O=R,R=W()}function Z(t){return t===O.value&&(q(),!0)}function J(t){t===O.value?q():P(O,m.expected,t,B(O))}function Q(t){return 10===t||13===t}function tt(t){return t>=48&&t<=57}function et(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function nt(t){return t>=65&&t<=90||t>=97&&t<=122||95===t||t>=48&&t<=57||!!(i.extendedIdentifiers&&t>=128)}function rt(t){if(u===t.type)return!0;if(h!==t.type)return!1;switch(t.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function it(){var t=C[M++].slice();C.push(t),n.onCreateScope&&n.onCreateScope()}function ot(){C.pop(),--M,n.onDestroyScope&&n.onDestroyScope()}function st(t){n.onLocalDeclaration&&n.onLocalDeclaration(t),-1===_(C[M],t)&&C[M].push(t)}function at(t){st(t.name),ct(t,!0)}function ct(t,e){e||-1!==function(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n)return r;return-1}(D,0,t.name)||D.push(t),t.isLocal=e}function lt(t){return-1!==_(C[M],t)}Object.assign&&(F=Object.assign),t.SyntaxError=SyntaxError,t.lex=W;var ut,ft=[];function ht(){return new dt(O)}function dt(t){n.locations&&(this.loc={start:{line:t.line,column:t.range[0]-t.lineStart},end:{line:0,column:0}}),n.ranges&&(this.range=[t.range[0],0])}function pt(){ut&&ft.push(ht())}function yt(t){ut&&ft.push(t)}function gt(){this.scopes=[],this.pendingGotos=[]}function bt(){this.level=0,this.loopLevels=[]}function wt(){return i.labels?new gt:new bt}function mt(t){for(var e,n=[];!rt(O);){if("return"===O.value||!i.relaxedBreak&&"break"===O.value){n.push(Et(t));break}e=Et(t),Z(";"),e&&n.push(e)}return n}function Et(t){if(pt(),y===O.type&&Z("::"))return function(t){var e=O,r=vt();return n.scope&&(st("::"+e.value+"::"),ct(r,!0)),J("::"),t.addLabel(e.value,e),S(E.labelStatement(r))}(t);if(!i.emptyStatement||!Z(";")){if(t.raiseDeferredErrors(),h===O.type)switch(O.value){case"local":return q(),function(t){var e,r=I;if(d===O.type){var i=[],o=[];do{e=vt(),i.push(e),t.addLocal(e.name,r)}while(Z(","));if(Z("="))do{var s=Ot(t);o.push(s)}while(Z(","));if(n.scope)for(var a=0,c=i.length;a<c;++a)at(i[a]);return S(E.localStatement(i,o))}if(Z("function"))return e=vt(),t.addLocal(e.name,r),n.scope&&(at(e),it()),_t(e,!0);U("<name>",O)}(t);case"if":return q(),function(t){var e,r,i,o=[];for(ut&&(i=ft[ft.length-1],ft.push(i)),e=Ot(t),J("then"),n.scope&&it(),t.pushScope(),r=mt(t),t.popScope(),n.scope&&ot(),o.push(S(E.ifClause(e,r))),ut&&(i=ht());Z("elseif");)yt(i),e=Ot(t),J("then"),n.scope&&it(),t.pushScope(),r=mt(t),t.popScope(),n.scope&&ot(),o.push(S(E.elseifClause(e,r))),ut&&(i=ht());return Z("else")&&(ut&&(i=new dt(I),ft.push(i)),n.scope&&it(),t.pushScope(),r=mt(t),t.popScope(),n.scope&&ot(),o.push(S(E.elseClause(r)))),J("end"),S(E.ifStatement(o))}(t);case"return":return q(),function(t){var e=[];if("end"!==O.value){var n=Nt(t);for(null!=n&&e.push(n);Z(",");)n=Ot(t),e.push(n);Z(";")}return S(E.returnStatement(e))}(t);case"function":return q(),_t(function(){var t,e,r;for(ut&&(r=ht()),t=vt(),n.scope&&(ct(t,lt(t.name)),it());Z(".");)yt(r),e=vt(),t=S(E.memberExpression(t,".",e));return Z(":")&&(yt(r),e=vt(),t=S(E.memberExpression(t,":",e)),n.scope&&st("self")),t}());case"while":return q(),function(t){var e=Ot(t);J("do"),n.scope&&it(),t.pushScope(!0);var r=mt(t);return t.popScope(),n.scope&&ot(),J("end"),S(E.whileStatement(e,r))}(t);case"for":return q(),function(t){var e,r=vt();if(n.scope&&(it(),at(r)),Z("=")){var i=Ot(t);J(",");var o=Ot(t),s=Z(",")?Ot(t):null;return J("do"),t.pushScope(!0),e=mt(t),t.popScope(),J("end"),n.scope&&ot(),S(E.forNumericStatement(r,i,o,s,e))}for(var a=[r];Z(",");)r=vt(),n.scope&&at(r),a.push(r);J("in");var c=[];do{var l=Ot(t);c.push(l)}while(Z(","));return J("do"),t.pushScope(!0),e=mt(t),t.popScope(),J("end"),n.scope&&ot(),S(E.forGenericStatement(a,c,e))}(t);case"repeat":return q(),function(t){n.scope&&it(),t.pushScope(!0);var e=mt(t);J("until"),t.raiseDeferredErrors();var r=Ot(t);return t.popScope(),n.scope&&ot(),S(E.repeatStatement(r,e))}(t);case"break":return q(),t.isInLoop()||P(O,m.noLoopToBreak,O.value),S(E.breakStatement());case"do":return q(),function(t){n.scope&&it(),t.pushScope();var e=mt(t);return t.popScope(),n.scope&&ot(),J("end"),S(E.doStatement(e))}(t);case"goto":return q(),St(t)}return i.contextualGoto&&O.type===d&&"goto"===O.value&&R.type===d&&"goto"!==R.value?(q(),St(t)):(ut&&ft.pop(),function(t){var e,r,i,o,s,a=[];for(ut&&(r=ht());;){if(ut&&(e=ht()),d===O.type)s=O.value,o=vt(),n.scope&&ct(o,lt(s)),i=!0;else{if("("!==O.value)return j(O);q(),o=Ot(t),J(")"),i=!1}t:for(;;){switch(f===O.type?'"':O.value){case".":case"[":i=!0;break;case":":case"(":case"{":case'"':i=null;break;default:break t}o=xt(o,e,t)}if(a.push(o),","!==O.value)break;if(!i)return j(O);q()}if(1===a.length&&null===i)return yt(e),S(E.callStatement(a[0]));if(!i)return j(O);J("=");var c=[];do{c.push(Ot(t))}while(Z(","));return yt(r),S(E.assignmentStatement(a,c))}(t))}ut&&ft.pop()}function St(t){var e=O.value,n=I,r=vt();return t.addGoto(e,n),S(E.gotoStatement(r))}function vt(){pt();var t=O.value;return d!==O.type&&U("<name>",O),q(),S(E.identifier(t))}function _t(t,e){var r=wt();r.pushScope();var i=[];if(J("("),!Z(")"))for(;;){if(d===O.type){var o=vt();if(n.scope&&at(o),i.push(o),Z(","))continue}else w===O.type?(r.allowVararg=!0,i.push(kt(r))):U("<name> or '...'",O);J(")");break}var s=mt(r);return r.popScope(),J("end"),n.scope&&ot(),e=e||!1,S(E.functionStatement(t,i,e,s))}function At(t){for(var e,n,r=[];;){if(pt(),y===O.type&&Z("["))e=Ot(t),J("]"),J("="),n=Ot(t),r.push(S(E.tableKey(e,n)));else if(d===O.type)"="===R.value?(e=vt(),q(),n=Ot(t),r.push(S(E.tableKeyString(e,n)))):(n=Ot(t),r.push(S(E.tableValue(n))));else{if(null==(n=Nt(t))){ft.pop();break}r.push(S(E.tableValue(n)))}if(!(",;".indexOf(O.value)>=0))break;q()}return J("}"),S(E.tableConstructorExpression(r))}function Nt(t){return Rt(0,t)}function Ot(t){var e=Nt(t);if(null!=e)return e;U("<expression>",O)}function It(t){var e=t.charCodeAt(0),n=t.length;if(1===n)switch(e){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(2===n)switch(e){case 47:return 10;case 46:return 8;case 60:case 62:return"<<"===t||">>"===t?7:3;case 61:case 126:return 3;case 111:return 1}else if(97===e&&"and"===t)return 2;return 0}function Rt(t,e){var r,i,o,s=O.value;if(ut&&(i=ht()),function(t){return y===t.type?"#-~".indexOf(t.value)>=0:h===t.type&&"not"===t.value}(O)){pt(),q();var a=Rt(10,e);null==a&&U("<expression>",O),r=S(E.unaryExpression(s,a))}if(null==r&&null==(r=kt(e))&&(r=function(t){var e,r,i;if(ut&&(i=ht()),d===O.type)r=O.value,e=vt(),n.scope&&ct(e,lt(r));else{if(!Z("("))return null;e=Ot(t),J(")")}for(;;){var o=xt(e,i,t);if(null===o)break;e=o}return e}(e)),null==r)return null;for(;s=O.value,!(0===(o=y===O.type||h===O.type?It(s):0)||o<=t);){"^"!==s&&".."!==s||--o,q();var c=Rt(o,e);null==c&&U("<expression>",O),ut&&ft.push(i),r=S(E.binaryExpression(s,r,c))}return r}function xt(t,e,n){var r,i;if(y===O.type)switch(O.value){case"[":return yt(e),q(),r=Ot(n),J("]"),S(E.indexExpression(t,r));case".":return yt(e),q(),i=vt(),S(E.memberExpression(t,".",i));case":":return yt(e),q(),i=vt(),t=S(E.memberExpression(t,":",i)),yt(e),Tt(t,n);case"(":case"{":return yt(e),Tt(t,n)}else if(f===O.type)return yt(e),Tt(t,n);return null}function Tt(t,e){if(y===O.type)switch(O.value){case"(":i.emptyStatement||O.line!==I.line&&P(null,m.ambiguousSyntax,O.value),q();var n=[],r=Nt(e);for(null!=r&&n.push(r);Z(",");)r=Ot(e),n.push(r);return J(")"),S(E.callExpression(t,n));case"{":pt(),q();var o=At(e);return S(E.tableCallExpression(t,o))}else if(f===O.type)return S(E.stringCallExpression(t,kt(e)));U("function arguments",O)}function kt(t){var r,i=f|p|g|b|w,o=O.value,s=O.type;if(ut&&(r=ht()),s!==w||t.allowVararg||P(O,m.cannotUseVararg,O.value),s&i){yt(r);var a=e.slice(O.range[0],O.range[1]);return q(),S(E.literal(s,o,a))}return h===s&&"function"===o?(yt(r),q(),n.scope&&it(),_t(null)):Z("{")?(yt(r),At(t)):void 0}dt.prototype.complete=function(){n.locations&&(this.loc.end.line=I.lastLine||I.line,this.loc.end.column=I.range[1]-(I.lastLineStart||I.lineStart)),n.ranges&&(this.range[1]=I.range[1])},dt.prototype.bless=function(t){if(this.loc){var e=this.loc;t.loc={start:{line:e.start.line,column:e.start.column},end:{line:e.end.line,column:e.end.column}}}this.range&&(t.range=[this.range[0],this.range[1]])},gt.prototype.isInLoop=function(){for(var t=this.scopes.length;t-- >0;)if(this.scopes[t].isLoop)return!0;return!1},gt.prototype.pushScope=function(t){var e={labels:{},locals:[],deferredGotos:[],isLoop:!!t};this.scopes.push(e)},gt.prototype.popScope=function(){for(var t=0;t<this.pendingGotos.length;++t){var e=this.pendingGotos[t];e.maxDepth>=this.scopes.length&&--e.maxDepth<=0&&P(e.token,m.labelNotVisible,e.target)}this.scopes.pop()},gt.prototype.addGoto=function(t,e){for(var n=[],r=0;r<this.scopes.length;++r){var i=this.scopes[r];if(n.push(i.locals.length),Object.prototype.hasOwnProperty.call(i.labels,t))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:t,token:e,localCounts:n})},gt.prototype.addLabel=function(t,e){var n=this.currentScope();if(Object.prototype.hasOwnProperty.call(n.labels,t))P(e,m.labelAlreadyDefined,t,n.labels[t].line);else{for(var r=[],i=0;i<this.pendingGotos.length;++i){var o=this.pendingGotos[i];o.maxDepth>=this.scopes.length&&o.target===t?o.localCounts[this.scopes.length-1]<n.locals.length&&n.deferredGotos.push(o):r.push(o)}this.pendingGotos=r}n.labels[t]={localCount:n.locals.length,line:e.line}},gt.prototype.addLocal=function(t,e){this.currentScope().locals.push({name:t,token:e})},gt.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},gt.prototype.raiseDeferredErrors=function(){for(var t=this.currentScope(),e=t.deferredGotos,n=0;n<e.length;++n){var r=e[n];P(r.token,m.gotoJumpInLocalScope,r.target,t.locals[r.localCounts[this.scopes.length-1]].name)}},bt.prototype.isInLoop=function(){return!!this.loopLevels.length},bt.prototype.pushScope=function(t){++this.level,t&&this.loopLevels.push(this.level)},bt.prototype.popScope=function(){var t=this.loopLevels,e=t.length;e&&t[e-1]===this.level&&t.pop(),--this.level},bt.prototype.addGoto=bt.prototype.addLabel=function(){throw new Error("This should never happen")},bt.prototype.addLocal=bt.prototype.raiseDeferredErrors=function(){},t.parse=function(a,c){if(void 0===c&&"object"==typeof a&&(c=a,a=void 0),c||(c={}),e=a||"",n=F({},s,c),N=0,k=1,L=0,r=e.length,C=[[]],M=0,D=[],ft=[],!Object.prototype.hasOwnProperty.call(Lt,n.luaVersion))throw new Error(A("Lua version '%1' not supported",n.luaVersion));if(i=F({},Lt[n.luaVersion]),void 0!==n.extendedIdentifiers&&(i.extendedIdentifiers=!!n.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(l,n.encodingMode))throw new Error(A("Encoding mode '%1' not supported",n.encodingMode));return o=l[n.encodingMode],n.comments&&(x=[]),n.wait?t:Mt()};var Lt={5.1:{},5.2:{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},5.3:{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function Ct(n){return e+=String(n),r=e.length,t}function Mt(t){void 0!==t&&Ct(t),e&&"#!"===e.substr(0,2)&&(e=e.replace(/^.*/,(function(t){return t.replace(/./g," ")}))),r=e.length,ut=n.locations||n.ranges,R=W();var i=function(){q(),pt(),n.scope&&it();var t=wt();t.allowVararg=!0,t.pushScope();var e=mt(t);return t.popScope(),n.scope&&ot(),u!==O.type&&j(O),ut&&!e.length&&(I=O),S(E.chunk(e))}();if(n.comments&&(i.comments=x),n.scope&&(i.globals=D),ft.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return i}t.write=Ct,t.end=Mt}))},975:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,r="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,a):r=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var t,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!r)).length||r||(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":r.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=r.resolve(t))===(n=r.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,l=s<c?s:c,u=-1,f=0;f<=l;++f){if(f===l){if(c>l){if(47===n.charCodeAt(a+f))return n.slice(a+f+1);if(0===f)return n.slice(a+f)}else s>l&&(47===t.charCodeAt(i+f)?u=f:0===f&&(u=0));break}var h=t.charCodeAt(i+f);if(h!==n.charCodeAt(a+f))break;47===h&&(u=f)}var d="";for(f=i+u+1;f<=o;++f)f!==o&&47!==t.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),r=47===n,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(n=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var a=n.length-1,c=-1;for(r=t.length-1;r>=0;--r){var l=t.charCodeAt(r);if(47===l){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(l===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var n=-1,r=0,i=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+"/"+r:r}(0,t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var r,i=t.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,l=!0,u=t.length-1,f=0;u>=r;--u)if(47!==(i=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===s?s=u:1!==f&&(f=1):-1!==s&&(f=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===f||1===f&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?t.slice(1,c):t.slice(a,c)):(0===a&&o?(n.name=t.slice(1,s),n.base=t.slice(1,c)):(n.name=t.slice(a,s),n.base=t.slice(a,c)),n.ext=t.slice(s,c)),a>0?n.dir=t.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},606:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,c=[],l=!1,u=-1;function f(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(a=c,c=[];++u<e;)a&&a[u].run();u=-1,e=c.length}a=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},861:(t,e,n)=>{var r=n(287),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};n.r(t),n.d(t,{COPYFILE_EXCL:()=>Qt,COPYFILE_FICLONE:()=>te,COPYFILE_FICLONE_FORCE:()=>ee,F_OK:()=>Xt,O_APPEND:()=>le,O_CREAT:()=>oe,O_DIRECT:()=>ge,O_DIRECTORY:()=>ue,O_DSYNC:()=>pe,O_EXCL:()=>se,O_NOATIME:()=>fe,O_NOCTTY:()=>ae,O_NOFOLLOW:()=>he,O_NONBLOCK:()=>be,O_RDONLY:()=>ne,O_RDWR:()=>ie,O_SYMLINK:()=>ye,O_SYNC:()=>de,O_TRUNC:()=>ce,O_WRONLY:()=>re,R_OK:()=>qt,S_IFBLK:()=>ve,S_IFCHR:()=>Ae,S_IFDIR:()=>_e,S_IFIFO:()=>Ne,S_IFLNK:()=>Ee,S_IFMT:()=>we,S_IFREG:()=>Se,S_IFSOCK:()=>me,S_IRGRP:()=>Me,S_IROTH:()=>Pe,S_IRUSR:()=>Te,S_IRWXG:()=>Ce,S_IRWXO:()=>$e,S_IRWXU:()=>xe,S_ISGID:()=>Ie,S_ISUID:()=>Oe,S_ISVTX:()=>Re,S_IWGRP:()=>De,S_IWOTH:()=>Be,S_IWUSR:()=>ke,S_IXGRP:()=>Fe,S_IXOTH:()=>Ue,S_IXUSR:()=>Le,UV_FS_O_FILEMAP:()=>je,W_OK:()=>Zt,X_OK:()=>Jt});var e={};n.r(e),n.d(e,{FileHandle:()=>Gr,access:()=>gi,appendFile:()=>ei,chmod:()=>ui,chown:()=>ci,constants:()=>t,copyFile:()=>mi,cp:()=>Si,exists:()=>Yr,lchmod:()=>fi,lchown:()=>li,link:()=>oi,lstat:()=>Kr,lutimes:()=>di,mkdir:()=>ri,mkdtemp:()=>wi,open:()=>Jr,opendir:()=>Ei,readFile:()=>Qr,readdir:()=>ii,readlink:()=>ai,realpath:()=>pi,rename:()=>Hr,rm:()=>bi,rmdir:()=>ni,stat:()=>zr,statfs:()=>vi,symlink:()=>si,truncate:()=>Xr,unlink:()=>qr,utimes:()=>hi,watch:()=>yi,writeFile:()=>ti});var r={};n.r(r),n.d(r,{BigIntStatsFs:()=>Ye,Dir:()=>Pr,Dirent:()=>$r,ReadStream:()=>Ur,Stats:()=>Ve,StatsFs:()=>He,WriteStream:()=>jr,access:()=>no,accessSync:()=>Rr,appendFile:()=>Li,appendFileSync:()=>ir,chmod:()=>Zi,chmodSync:()=>_r,chown:()=>Xi,chownSync:()=>Sr,close:()=>Mi,closeSync:()=>sr,constants:()=>t,copyFile:()=>uo,copyFileSync:()=>kr,cp:()=>yo,cpSync:()=>Dr,createReadStream:()=>so,createWriteStream:()=>ao,exists:()=>Ai,existsSync:()=>zn,fchmod:()=>ji,fchmodSync:()=>dr,fchown:()=>Ui,fchownSync:()=>hr,fdatasync:()=>$i,fdatasyncSync:()=>lr,fstat:()=>Ci,fstatSync:()=>or,fsync:()=>Fi,fsyncSync:()=>cr,ftruncate:()=>Di,ftruncateSync:()=>ar,futimes:()=>Wi,futimesSync:()=>pr,lchmod:()=>Ji,lchmodSync:()=>Ar,lchown:()=>qi,lchownSync:()=>vr,link:()=>Yi,linkSync:()=>wr,lopenSync:()=>tr,lstat:()=>Oi,lstatSync:()=>Xn,lutimes:()=>to,lutimesSync:()=>Or,mkdir:()=>Gi,mkdirSync:()=>gr,mkdtemp:()=>lo,mkdtempSync:()=>Tr,mount:()=>$n,mountObject:()=>Wn,mounts:()=>Fn,open:()=>xi,openAsBlob:()=>bo,openSync:()=>Qn,opendir:()=>po,opendirSync:()=>Mr,promises:()=>e,read:()=>Bi,readFile:()=>Ti,readFileSync:()=>nr,readSync:()=>fr,readdir:()=>Hi,readdirSync:()=>br,readlink:()=>Ki,readlinkSync:()=>Er,readv:()=>fo,readvSync:()=>Lr,realpath:()=>eo,realpathSync:()=>Ir,rename:()=>_i,renameSync:()=>Yn,rm:()=>co,rmSync:()=>xr,rmdir:()=>Vi,rmdirSync:()=>yr,stat:()=>Ni,statSync:()=>Kn,statfs:()=>go,statfsSync:()=>Fr,symlink:()=>zi,symlinkSync:()=>mr,truncate:()=>Ii,truncateSync:()=>qn,umount:()=>Pn,unlink:()=>Ri,unlinkSync:()=>Zn,unwatchFile:()=>io,utimes:()=>Qi,utimesSync:()=>Nr,watch:()=>oo,watchFile:()=>ro,write:()=>Pi,writeFile:()=>ki,writeFileSync:()=>rr,writeSync:()=>ur,writev:()=>ho,writevSync:()=>Cr});const i=class{constructor(t,e,n){this.r=t,this.g=e,this.b=n}toString(){return"rgb("+this.r.toString()+" "+this.g.toString()+" "+this.b.toString()+")"}};var o=n(183),s=n.n(o),a={};var c=JSON.stringify;function l(){for(var t=new Array(arguments.length-1),e=0;e<t.length;++e)t[e]=arguments[e+1];return function(t,e){for(var n="",r=0,i=0,o=0,s="",a=0;a<t.length;++a){var l=t[a],u=l[0].charCodeAt(0);if(76!==u)if(37!==u){var f="",h=0,d=10,p=4,y=!1,g=l[3],b=g.indexOf("#")>-1;if(l[2])r=parseInt(l[2],10)-1;else if(109===u&&!b){n+="Success";continue}var w=0;l[4].length>0&&(w="*"!==l[4].charAt(0)?parseInt(l[4],10):1===l[4].length?e[i++]:e[parseInt(l[4].substr(1),10)-1]);var m=-1;l[5].length>0&&(m="*"!==l[5].charAt(0)?parseInt(l[5],10):1===l[5].length?e[i++]:e[parseInt(l[5].substr(1),10)-1]),l[2]||(r=i++);var E=e[r],S=l[6];switch(u){case 83:case 115:f=String(E),m>=0&&(f=f.substr(0,m)),(w>f.length||-w>f.length)&&((-1==g.indexOf("-")||w<0)&&-1!=g.indexOf("0")?f=(s=w-f.length>=0?"0".repeat(w-f.length):"")+f:(s=w-f.length>=0?" ".repeat(w-f.length):"",f=g.indexOf("-")>-1?f+s:s+f));break;case 67:case 99:switch(typeof E){case"number":var v=E;67==u||108===S.charCodeAt(0)?(v&=4294967295,f=String.fromCharCode(v)):(v&=255,f=String.fromCharCode(v));break;case"string":f=E.charAt(0);break;default:f=String(E).charAt(0)}(w>f.length||-w>f.length)&&((-1==g.indexOf("-")||w<0)&&-1!=g.indexOf("0")?f=(s=w-f.length>=0?"0".repeat(w-f.length):"")+f:(s=w-f.length>=0?" ".repeat(w-f.length):"",f=g.indexOf("-")>-1?f+s:s+f));break;case 68:p=8;case 100:case 105:h=-1,y=!0;break;case 85:p=8;case 117:h=-1;break;case 79:p=8;case 111:h=-1,d=8;break;case 120:h=-1,d=-16;break;case 88:h=-1,d=16;break;case 66:p=8;case 98:h=-1,d=2;break;case 70:case 102:h=1;break;case 69:case 101:h=2;break;case 71:case 103:h=3;break;case 65:case 97:h=4;break;case 112:o="number"==typeof E?E:E?Number(E.l):-1,isNaN(o)&&(o=-1),f=b?o.toString(10):"0x"+(o=Math.abs(o)).toString(16).toLowerCase();break;case 110:E&&(E.len=n.length);continue;case 109:f=E instanceof Error?E.message?E.message:E.errno?"Error number "+E.errno:"Error "+String(E):"Success";break;case 74:f=(b?c:JSON.stringify)(E);break;case 86:f=null==E?"null":String(E.valueOf());break;case 84:f=b?(f=Object.prototype.toString.call(E).substr(8)).substr(0,f.length-1):typeof E;break;case 89:case 121:f=E?b?"yes":"true":b?"no":"false",89==u&&(f=f.toUpperCase()),m>=0&&(f=f.substr(0,m)),(w>f.length||-w>f.length)&&((-1==g.indexOf("-")||w<0)&&-1!=g.indexOf("0")?f=(s=w-f.length>=0?"0".repeat(w-f.length):"")+f:(s=w-f.length>=0?" ".repeat(w-f.length):"",f=g.indexOf("-")>-1?f+s:s+f))}if(w<0&&(w=-w,g+="-"),-1==h){switch(o=Number(E),S){case"hh":p=1;break;case"h":p=2;break;case"l":case"L":case"q":case"ll":case"j":case"t":case"z":case"Z":case"I":4==p&&(p=8)}switch(p){case 1:o&=255,y&&o>127&&(o-=256);break;case 2:o&=65535,y&&o>32767&&(o-=65536);break;case 4:o=y?0|o:o>>>0;break;default:o=isNaN(o)?0:Math.round(o)}if(p>4&&o<0&&!y)if(16==d||-16==d)f=(o>>>0).toString(16),f=(16-(f=((o=Math.floor((o-(o>>>0))/Math.pow(2,32)))>>>0).toString(16)+(8-f.length>=0?"0".repeat(8-f.length):"")+f).length>=0?"f".repeat(16-f.length):"")+f,16==d&&(f=f.toUpperCase());else if(8==d)f=(10-(f=(o>>>0).toString(8)).length>=0?"0".repeat(10-f.length):"")+f,f="1"+(21-(f=(f=((o=Math.floor((o-(o>>>0&1073741823))/Math.pow(2,30)))>>>0).toString(8)+f.substr(f.length-10)).substr(f.length-20)).length>=0?"7".repeat(21-f.length):"")+f;else{o=-o%1e16;for(var _=[1,8,4,4,6,7,4,4,0,7,3,7,0,9,5,5,1,6,1,6],A=_.length-1;o>0;)(_[A]-=o%10)<0&&(_[A]+=10,_[A-1]--),--A,o=Math.floor(o/10);f=_.join("")}else f=-16===d?o.toString(16).toLowerCase():16===d?o.toString(16).toUpperCase():o.toString(d);if(0!==m||"0"!=f||8==d&&b){if(f.length<m+("-"==f.substr(0,1)?1:0)&&(f="-"!=f.substr(0,1)?(m-f.length>=0?"0".repeat(m-f.length):"")+f:f.substr(0,1)+(m+1-f.length>=0?"0".repeat(m+1-f.length):"")+f.substr(1)),!y&&b&&0!==o)switch(d){case-16:f="0x"+f;break;case 16:f="0X"+f;break;case 8:"0"!=f.charAt(0)&&(f="0"+f);break;case 2:f="0b"+f}}else f="";y&&"-"!=f.charAt(0)&&(g.indexOf("+")>-1?f="+"+f:g.indexOf(" ")>-1&&(f=" "+f)),w>0&&f.length<w&&(g.indexOf("-")>-1?f+=w-f.length>=0?" ".repeat(w-f.length):"":g.indexOf("0")>-1&&m<0&&f.length>0?(m>f.length&&(f=(m-f.length>=0?"0".repeat(m-f.length):"")+f),s=w-f.length>=0?(m>0?" ":"0").repeat(w-f.length):"",f=f.charCodeAt(0)<48?"x"==f.charAt(2).toLowerCase()?f.substr(0,3)+s+f.substring(3):f.substr(0,1)+s+f.substring(1):"x"==f.charAt(1).toLowerCase()?f.substr(0,2)+s+f.substring(2):s+f):f=(w-f.length>=0?" ".repeat(w-f.length):"")+f)}else if(h>0){o=Number(E),null===E&&(o=NaN),"L"==S&&(p=12);var N=isFinite(o);if(N){var O=0;-1==m&&4!=h&&(m=6),3==h&&(0===m&&(m=1),m>(O=+(f=o.toExponential(1)).substr(f.indexOf("e")+1))&&O>=-4?(h=11,m-=O+1):(h=12,m-=1));var I=o<0||1/o==-1/0?"-":"";switch(o<0&&(o=-o),h){case 1:case 11:if(o<1e21){f=o.toFixed(m),1==h?0===m&&b&&-1==f.indexOf(".")&&(f+="."):b?-1==f.indexOf(".")&&(f+="."):f=f.replace(/(\.\d*[1-9])0*$/,"$1").replace(/\.0*$/,"");break}O=+(f=o.toExponential(20)).substr(f.indexOf("e")+1),f=f.charAt(0)+f.substr(2,f.indexOf("e")-2),f+=O-f.length+1>=0?"0".repeat(O-f.length+1):"",(b||m>0&&11!==h)&&(f=f+"."+(m>=0?"0".repeat(m):""));break;case 2:case 12:O=(f=o.toExponential(m)).indexOf("e"),f.length-O==3&&(f=f.substr(0,O+2)+"0"+f.substr(O+2)),b&&-1==f.indexOf(".")?f=f.substr(0,O)+"."+f.substr(O):b||12!=h||(f=f.replace(/\.0*e/,"e").replace(/\.(\d*[1-9])0*e/,".$1e"));break;case 4:if(0===o){f="0x0"+(b||m>0?"."+(m>=0?"0".repeat(m):""):"")+"p+0";break}var R=(f=o.toString(16)).charCodeAt(0);if(48==R){for(R=2,O=-4,o*=16;48==f.charCodeAt(R++);)O-=4,o*=16;R=(f=o.toString(16)).charCodeAt(0)}var x=f.indexOf(".");if(f.indexOf("(")>-1){var T=f.match(/\(e(.*)\)/),k=T?+T[1]:0;O+=4*k,o/=Math.pow(16,k)}else x>1?(O+=4*(x-1),o/=Math.pow(16,x-1)):-1==x&&(O+=4*(f.length-1),o/=Math.pow(16,f.length-1));if(p>8?R<50?(O-=3,o*=8):R<52?(O-=2,o*=4):R<56&&(O-=1,o*=2):R>=56?(O+=3,o/=8):R>=52?(O+=2,o/=4):R>=50&&(O+=1,o/=2),(f=o.toString(16)).length>1){if(f.length>m+2&&f.charCodeAt(m+2)>=56){var L=102==f.charCodeAt(0);f=(o+8*Math.pow(16,-m-1)).toString(16),L&&49==f.charCodeAt(0)&&(O+=4)}m>0?(f=f.substr(0,m+2)).length<m+2&&(f.charCodeAt(0)<48?f=f.charAt(0)+(m+2-f.length>=0?"0".repeat(m+2-f.length):"")+f.substr(1):f+=m+2-f.length>=0?"0".repeat(m+2-f.length):""):0===m&&(f=f.charAt(0)+(b?".":""))}else m>0?f=f+"."+(m>=0?"0".repeat(m):""):b&&(f+=".");f="0x"+f+"p"+(O>=0?"+"+O:O)}""===I&&(g.indexOf("+")>-1?I="+":g.indexOf(" ")>-1&&(I=" ")),f=I+f}else o<0?f="-":g.indexOf("+")>-1?f="+":g.indexOf(" ")>-1&&(f=" "),f+=isNaN(o)?"nan":"inf";w>f.length&&(g.indexOf("-")>-1?f+=w-f.length>=0?" ".repeat(w-f.length):"":g.indexOf("0")>-1&&f.length>0&&N?(s=w-f.length>=0?"0".repeat(w-f.length):"",f=f.charCodeAt(0)<48?"x"==f.charAt(2).toLowerCase()?f.substr(0,3)+s+f.substring(3):f.substr(0,1)+s+f.substring(1):"x"==f.charAt(1).toLowerCase()?f.substr(0,2)+s+f.substring(2):s+f):f=(w-f.length>=0?" ".repeat(w-f.length):"")+f),u<96&&(f=f.toUpperCase())}n+=f}else n+="%";else n+=l[1]}return n}(function(t){if(a[t])return a[t];for(var e=[],n=0,r=0,i=!1,o="",s="",c="",l="",u="",f=0,h=t.length;r<h;++r)if(f=t.charCodeAt(r),i)if(f>=48&&f<58)l.length?l+=String.fromCharCode(f):48!=f||c.length?c+=String.fromCharCode(f):s+=String.fromCharCode(f);else switch(f){case 36:l.length?l+="$":"*"==c.charAt(0)?c+="$":(o=c+"$",c="");break;case 39:s+="'";break;case 45:s+="-";break;case 43:s+="+";break;case 32:s+=" ";break;case 35:s+="#";break;case 46:l=".";break;case 42:"."==l.charAt(0)?l+="*":c+="*";break;case 104:case 108:if(u.length>1)throw"bad length "+u+String(f);u+=String.fromCharCode(f);break;case 76:case 106:case 122:case 116:case 113:case 90:case 119:if(""!==u)throw"bad length "+u+String.fromCharCode(f);u=String.fromCharCode(f);break;case 73:if(""!==u)throw"bad length "+u+"I";u="I";break;case 100:case 105:case 111:case 117:case 120:case 88:case 102:case 70:case 101:case 69:case 103:case 71:case 97:case 65:case 99:case 67:case 115:case 83:case 112:case 110:case 68:case 85:case 79:case 109:case 98:case 66:case 121:case 89:case 74:case 86:case 84:case 37:i=!1,l.length>1&&(l=l.substr(1)),e.push([String.fromCharCode(f),t.substring(n,r+1),o,s,c,l,u]),n=r+1,u=l=c=s=o="";break;default:throw new Error("Invalid format string starting with |"+t.substring(n,r+1)+"|")}else{if(37!==f)continue;n<r&&e.push(["L",t.substring(n,r)]),n=r,i=!0}return n<t.length&&e.push(["L",t.substring(n)]),a[t]=e}(arguments[0]),t)}class u extends Error{constructor(t){super(),this.message=t}toString(){return`LuaError: ${this.message}`}}class f{constructor(t){if(this.numValues=[void 0],this.strValues={},this.keys=[],this.values=[],this.metatable=null,void 0!==t)if("function"!=typeof t){if(Array.isArray(t))this.insert(...t);else for(const e in t)if(O(t,e)){let n=t[e];null===n&&(n=void 0),this.set(e,n)}}else t(this)}get(t){const e=this.rawget(t);if(void 0===e&&this.metatable){const e=this.metatable.get("__index");if(e instanceof f)return e.get(t);if("function"==typeof e){const n=e.call(void 0,this,t);return n instanceof Array?n[0]:n}}return e}rawget(t){switch(typeof t){case"string":if(O(this.strValues,t))return this.strValues[t];break;case"number":if(t>0&&t%1==0)return this.numValues[t]}const e=this.keys.indexOf(y(t));return-1===e?void 0:this.values[e]}getMetaMethod(t){return this.metatable&&this.metatable.rawget(t)}set(t,e){const n=this.metatable&&this.metatable.get("__newindex");if(n&&void 0===this.rawget(t)){if(n instanceof f)return n.set(t,e);if("function"==typeof n)return n(this,t,e)}this.rawset(t,e)}setFn(t){return e=>this.set(t,e)}rawset(t,e){switch(typeof t){case"string":return void(this.strValues[t]=e);case"number":if(t>0&&t%1==0)return void(this.numValues[t]=e)}const n=y(t),r=this.keys.indexOf(n);r>-1?this.values[r]=e:(this.values[this.keys.length]=e,this.keys.push(n))}insert(...t){this.numValues.push(...t)}toObject(){const t=0===Object.keys(this.strValues).length&&this.getn()>0,e=t?[]:{};for(let n=1;n<this.numValues.length;n++){const r=this.numValues[n],i=r instanceof f?r.toObject():r;t?e[n-1]=i:e[String(n-1)]=i}for(const t in this.strValues)if(O(this.strValues,t)){const n=this.strValues[t],r=n instanceof f?n.toObject():n;e[t]=r}return e}getn(){const t=this.numValues,e=[];for(const n in t)O(t,n)&&(e[n]=!0);let n=0;for(;e[n+1];)n+=1;if(n>0&&void 0===t[n]){let e=0;for(;n-e>1;){const r=Math.floor((e+n)/2);void 0===t[r]?n=r:e=r}return e}return n}}const h=/^[-+]?[0-9]*\.?([0-9]+([eE][-+]?[0-9]+)?)?$/,d=/^(-)?0x([0-9a-fA-F]*)\.?([0-9a-fA-F]*)$/;function p(t){const e=typeof t;switch(e){case"undefined":return"nil";case"number":case"string":case"boolean":case"function":return e;case"object":if(t instanceof f)return"table";if(t instanceof Function)return"function"}}function y(t){if(t instanceof f){const n=t.getMetaMethod("__tostring");return n?n(t)[0]:e(t,"table: 0x")}return t instanceof Function?e(t,"function: 0x"):E(t);function e(t,e){const n=t.toString();if(n.indexOf(e)>-1)return n;const r=e+Math.floor(4294967295*Math.random()).toString(16);return t.toString=()=>r,r}}function g(t,e){return t>=0?t:-t>e?0:e+t+1}function b(t,e){if(e)throw new u(`${e}`.replace(/%type/gi,p(t)))}function w(t){return!(!1===t||void 0===t)}function m(t,e){if("number"==typeof t)return t;switch(t){case void 0:return;case"inf":return 1/0;case"-inf":return-1/0;case"nan":return NaN}const n=`${t}`;if(n.match(h))return parseFloat(n);const r=n.match(d);if(r){const[,t,e,n]=r;let i=parseInt(e,16)||0;return n&&(i+=parseInt(n,16)/Math.pow(16,n.length)),t&&(i*=-1),i}void 0!==e&&b(t,e)}function E(t,e){if("string"==typeof t)return t;switch(t){case void 0:case null:return"nil";case 1/0:return"inf";case-1/0:return"-inf"}return"number"==typeof t?Number.isNaN(t)?"nan":`${t}`:"boolean"==typeof t?`${t}`:void 0===e?"nil":void b(t,e)}function S(t,e,n,r,i){return e(t,`bad argument #${i} to '${r}' (${n} expected, got %type)`)}function v(t,e,n){return S(t,m,"number",e,n)}function _(t,e,n){return S(t,E,"string",e,n)}function A(t,e,n){if(t instanceof f)return t;{const r=p(t);throw new u(`bad argument #${n} to '${e}' (table expected, got ${r})`)}}const N=t=>t instanceof Array?t:[t],O=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);class I{constructor(t={}){this._variables=t}get(t){return this._variables[t]}set(t,e){O(this._variables,t)||!this.parent?this.setLocal(t,e):this.parent.set(t,e)}setLocal(t,e){this._variables[t]=e}setVarargs(t){this._varargs=t}getVarargs(){return this._varargs||this.parent&&this.parent.getVarargs()||[]}extend(){const t=Object.create(this._variables),e=new I(t);return e.parent=this,e}}const R=t=>"IfClause"===t.type||"ElseifClause"===t.type||"ElseClause"===t.type||"WhileStatement"===t.type||"DoStatement"===t.type||"RepeatStatement"===t.type||"FunctionDeclaration"===t.type||"ForNumericStatement"===t.type||"ForGenericStatement"===t.type||"Chunk"===t.type;class x extends String{constructor(t,e){super(),this.base=t,this.property=e}get(){return`__lua.get(${this.base}, ${this.property})`}set(t){return`${this.base}.set(${this.property}, ${t})`}setFn(){return`${this.base}.setFn(${this.property})`}toString(){return this.get()}valueOf(){return this.get()}}const T={not:"not","-":"unm","~":"bnot","#":"len"},k={"+":"add","-":"sub","*":"mul","%":"mod","^":"pow","/":"div","//":"idiv","&":"band","|":"bor","~":"bxor","<<":"shl",">>":"shr","..":"concat","~=":"neq","==":"eq","<":"lt","<=":"le",">":"gt",">=":"ge"},L=t=>{switch(t.type){case"LabelStatement":return`case '${t.label.name}': label = undefined`;case"BreakStatement":return"break";case"GotoStatement":return`label = '${t.label.name}'; continue`;case"ReturnStatement":return`return ${D(t.arguments)}`;case"IfStatement":return t.clauses.map((t=>L(t))).join(" else ");case"IfClause":case"ElseifClause":return`if (__lua.bool(${M(t.condition)})) {\n${C(t)}\n}`;case"ElseClause":return`{\n${C(t)}\n}`;case"WhileStatement":return`while(${M(t.condition)}) {\n${C(t)}\n}`;case"DoStatement":return`\n${C(t)}\n`;case"RepeatStatement":{const e=M(t.condition);return`do {\n${C(t)}\n} while (!(${e}))`}case"LocalStatement":case"AssignmentStatement":return $(t);case"CallStatement":return L(t.expression);case"FunctionDeclaration":{const e=e=>{const n=e.join(";\n"),r=C(t,n);return`(${0===e.length?"":"...args"}) => {\n${r}${-1===t.body.findIndex((t=>"ReturnStatement"===t.type))?"\nreturn []":""}\n}`},n=t.parameters.map((t=>"VarargLiteral"===t.type?`$${W.get(t)}.setVarargs(args)`:`$${W.get(t)}.setLocal('${t.name}', args.shift())`));if(null===t.identifier)return e(n);if("Identifier"===t.identifier.type)return`$${W.get(t.identifier)}.${t.isLocal?"setLocal":"set"}('${t.identifier.name}', ${e(n)})`;const r=L(t.identifier);return":"===t.identifier.indexer&&n.unshift(`$${W.get(t)}.setLocal('self', args.shift())`),r.set(e(n))}case"ForNumericStatement":{const e=t.variable.name,n=`let ${e} = ${M(t.start)}, end = ${M(t.end)}, step = ${null===t.step?1:M(t.step)}`,r=`step > 0 ? ${e} <= end : ${e} >= end`,i=`${e} += step`,o=`$${W.get(t.variable)}.setLocal('${e}', ${e});`;return`for (${n}; ${r}; ${i}) {\n${C(t,o)}\n}`}case"ForGenericStatement":{const e=D(t.iterators),n=t.variables.map(((t,e)=>`$${W.get(t)}.setLocal('${t.name}', res[${e}])`)).join(";\n");return`for (let [iterator, table, next] = ${e}, res = __lua.call(iterator, table, next); res[0] !== undefined; res = __lua.call(iterator, table, res[0])) {\n${C(t,n)}\n}`}case"Chunk":return`'use strict'\nconst $0 = __lua.globalScope\nlet vars\nlet vals\nlet label\n\n${C(t)}`;case"Identifier":return`$${W.get(t)}.get('${t.name}')`;case"StringLiteral":return`\`${t.value.replace(/([^\\])?\\(\d{1,3})/g,((t,e,n)=>`${e||""}${String.fromCharCode(n)}`)).replace(/\\/g,"\\\\").replace(/`/g,"\\`")}\``;case"NumericLiteral":return t.value.toString();case"BooleanLiteral":return t.value?"true":"false";case"NilLiteral":return"undefined";case"VarargLiteral":return`$${W.get(t)}.getVarargs()`;case"TableConstructorExpression":return 0===t.fields.length?"new __lua.Table()":`new __lua.Table(t => {\n${t.fields.map(((t,e,n)=>"TableKey"===t.type?`t.rawset(${L(t.key)}, ${M(t.value)})`:"TableKeyString"===t.type?`t.rawset('${t.key.name}', ${M(t.value)})`:"TableValue"===t.type?e===n.length-1&&B(t.value)?`t.insert(...${L(t.value)})`:`t.insert(${M(t.value)})`:void 0)).join(";\n")}\n})`;case"UnaryExpression":{const e=T[t.operator],n=M(t.argument);if(!e)throw new Error(`Unhandled unary operator: ${t.operator}`);return`__lua.${e}(${n})`}case"BinaryExpression":{const e=M(t.left),n=M(t.right),r=k[t.operator];if(!r)throw new Error(`Unhandled binary operator: ${t.operator}`);return`__lua.${r}(${e}, ${n})`}case"LogicalExpression":{const e=M(t.left),n=M(t.right),r=t.operator;if("and"===r)return`__lua.and(${e},${n})`;if("or"===r)return`__lua.or(${e},${n})`;throw new Error(`Unhandled logical operator: ${t.operator}`)}case"MemberExpression":{const e=M(t.base);return new x(e,`'${t.identifier.name}'`)}case"IndexExpression":{const e=M(t.base),n=M(t.index);return new x(e,n)}case"CallExpression":case"TableCallExpression":case"StringCallExpression":{const e=M(t.base),n="CallExpression"===t.type?F(t.arguments).join(", "):M("TableCallExpression"===t.type?t.arguments:t.argument);return e instanceof x&&"MemberExpression"===t.base.type&&":"===t.base.indexer?`__lua.call(${e}, ${e.base}, ${n})`:`__lua.call(${e}, ${n})`}default:throw new Error(`No generator found for: ${t.type}`)}},C=(t,e="")=>{const n=W.get(t),r=void 0===n?"":`const $${n} = $${j.get(n)}.extend();`,i=t.body.map((t=>L(t))).join(";\n"),o=G.get(t);if(void 0===o)return`${r}\n${e}\n${i}`;const s=`L${o}: do { switch(label) { case undefined:`,a=V.get(o);return`${r}\n${s}\n${e}\n${i}\n${(void 0===a?"":`break; default: continue L${a}\n`)+"} } while (label)"}`},M=t=>{const e=L(t);return B(t)?`${e}[0]`:e},D=t=>1===t.length&&B(t[0])?L(t[0]):`[${F(t).join(", ")}]`,F=t=>t.map(((t,e,n)=>{const r=L(t);return B(t)?e===n.length-1?`...${r}`:`${r}[0]`:r})),$=t=>{const e=[],n=[],r=t.variables.length>1&&t.init.length>0&&!t.init.every(U);for(let i=0;i<t.variables.length;i++){const o=t.variables[i],s=t.init[i],a=r?`vars[${i}]`:void 0===s?"undefined":M(s);if("Identifier"===o.type){const n="LocalStatement"===t.type?"setLocal":"set";e.push(`$${W.get(o)}.${n}('${o.name}', ${a})`)}else{const t=L(o);r?(e.push(`vals[${n.length}](${a})`),n.push(t.setFn())):e.push(t.set(a))}}for(let n=t.variables.length;n<t.init.length;n++){const r=t.init[n];P(r)&&e.push(L(r))}return r&&(e.unshift(`vars = ${D(t.init)}`),n.length>0&&e.unshift(`vals = [${n.join(", ")}]`)),e.join(";\n")},P=t=>"CallExpression"===t.type||"StringCallExpression"===t.type||"TableCallExpression"===t.type,B=t=>P(t)||"VarargLiteral"===t.type,U=t=>"StringLiteral"===t.type||"NumericLiteral"===t.type||"BooleanLiteral"===t.type||"NilLiteral"===t.type||"TableConstructorExpression"===t.type,j=new Map,W=new Map,V=new Map,G=new Map,H=t=>{const e=s().parse(t.replace(/^#.*/,""),{scope:!1,comments:!1,luaVersion:"5.3",encodingMode:"x-user-defined"});return(t=>{const e=[];let n=0;const r=new Map,i=(()=>{let t=0;return()=>(t+=1,t)})(),o=t=>{if(R(t)){!function(){const t=n;n=i(),r.set(n,t)}();for(let r=0;r<t.body.length;r++){const i=t.body[r];switch(i.type){case"LocalStatement":e.push({type:"local",name:i.variables[0].name,scope:n});break;case"LabelStatement":if(e.find((t=>"label"===t.type&&t.name===i.label.name&&t.scope===n)))throw new Error(`label '${i.label.name}' already defined`);e.push({type:"label",name:i.label.name,scope:n,last:"RepeatStatement"!==t.type&&t.body.slice(r).every((t=>"LabelStatement"===t.type))});break;case"GotoStatement":e.push({type:"goto",name:i.label.name,scope:n});break;case"IfStatement":i.clauses.forEach((t=>o(t)));break;default:o(i)}}n=r.get(n)}};o(t);for(let t=0;t<e.length;t++){const n=e[t];if("goto"===n.type){const r=e.filter((t=>"label"===t.type&&t.name===n.name&&t.scope<=n.scope)).sort(((t,e)=>Math.abs(n.scope-t.scope)-Math.abs(n.scope-e.scope)))[0];if(!r)throw new Error(`no visible label '${n.name}' for <goto>`);const i=e.findIndex((t=>t===r));if(i>t){const o=e.slice(t,i).filter((t=>"local"===t.type&&t.scope===r.scope));if(!r.last&&o.length>0)throw new Error(`<goto ${n.name}> jumps into the scope of local '${o[0].name}'`)}}}})(e),(t=>{let e=0,n=0;const r=(t,i,o)=>{let s=i,a=o;R(t)?((-1!==t.body.findIndex((t=>"LocalStatement"===t.type||"FunctionDeclaration"===t.type&&t.isLocal))||"FunctionDeclaration"===t.type&&(t.parameters.length>0||t.identifier&&"MemberExpression"===t.identifier.type)||"ForNumericStatement"===t.type||"ForGenericStatement"===t.type)&&(e+=1,s=e,W.set(t,e),j.set(e,i)),-1!==t.body.findIndex((t=>"LabelStatement"===t.type||"GotoStatement"===t.type))&&(a=n,G.set(t,n),"Chunk"!==t.type&&"FunctionDeclaration"!==t.type&&V.set(n,o),n+=1)):"Identifier"!==t.type&&"VarargLiteral"!==t.type||W.set(t,i),((t,e,n,r,i)=>{const o=(t,o=!0)=>{if(!t)return;const s=!1===o&&r?j.get(n):n;Array.isArray(t)?t.forEach((t=>e(t,s,i))):e(t,s,i)};switch(t.type){case"LocalStatement":case"AssignmentStatement":o(t.variables),o(t.init);break;case"UnaryExpression":o(t.argument);break;case"BinaryExpression":case"LogicalExpression":o(t.left),o(t.right);break;case"FunctionDeclaration":o(t.identifier,!1),o(t.parameters),o(t.body);break;case"ForGenericStatement":o(t.variables),o(t.iterators,!1),o(t.body);break;case"IfClause":case"ElseifClause":case"WhileStatement":case"RepeatStatement":o(t.condition,!1);case"Chunk":case"ElseClause":case"DoStatement":o(t.body);break;case"ForNumericStatement":o(t.variable),o(t.start,!1),o(t.end,!1),o(t.step,!1),o(t.body);break;case"ReturnStatement":o(t.arguments);break;case"IfStatement":o(t.clauses);break;case"MemberExpression":o(t.base),o(t.identifier);break;case"IndexExpression":o(t.base),o(t.index);break;case"LabelStatement":o(t.label);break;case"CallStatement":o(t.expression);break;case"GotoStatement":o(t.label);break;case"TableConstructorExpression":o(t.fields);break;case"TableKey":case"TableKeyString":o(t.key);case"TableValue":o(t.value);break;case"CallExpression":case"TableCallExpression":o(t.base),o(t.arguments);break;case"StringCallExpression":o(t.base),o(t.argument)}})(t,r,s,i!==s,a)};r(t,e,n)})(e),L(e).toString()},Y={"([^a-zA-Z0-9%(])-":"$1*?","([^%])-([^a-zA-Z0-9?])":"$1*?$2","([^%])\\.":"$1[\\s\\S]","(.)-$":"$1*?","%a":"[a-zA-Z]","%A":"[^a-zA-Z]","%c":"[\0-]","%C":"[^\0-]","%d":"\\d","%D":"[^d]","%l":"[a-z]","%L":"[^a-z]","%p":"[.,\"'?!;:#$%&()*+-/<>=@\\[\\]\\\\^_{}|~]","%P":"[^.,\"'?!;:#$%&()*+-/<>=@\\[\\]\\\\^_{}|~]","%s":"[ \\t\\n\\f\\v\\r]","%S":"[^ \t\n\f\v\r]","%u":"[A-Z]","%U":"[^A-Z]","%w":"[a-zA-Z0-9]","%W":"[^a-zA-Z0-9]","%x":"[a-fA-F0-9]","%X":"[^a-fA-F0-9]","%([^a-zA-Z])":"\\$1"};function z(t){let e=t.replace(/\\/g,"\\\\");for(const t in Y)O(Y,t)&&(e=e.replace(new RegExp(t,"g"),Y[t]));let n=0;for(let t=0,r=e.length;t<r;t++){if(t&&"\\"===e.substr(t-1,1))continue;const i=e.substr(t,1);"["!==i&&"]"!==i||("]"===i&&(n-=1),n>0&&(e=e.substr(0,t)+e.substr(t+1),t-=1,r-=1),"["===i&&(n+=1))}return e}const K=new f({byte:function(t,e,n){const r=_(t,"byte",1),i=void 0===e?1:v(e,"byte",2),o=void 0===n?i:v(n,"byte",3);return r.substring(i-1,o).split("").map((t=>t.charCodeAt(0)))},char:function(...t){return t.map(((t,e)=>{const n=v(t,"char",e);return String.fromCharCode(n)})).join("")},find:function(t,e,n,r){const i=_(t,"find",1),o=_(e,"find",2),s=void 0===n?1:v(n,"find",3);if(void 0===r||!v(r,"find",4)){const t=new RegExp(z(o)),e=i.substr(s-1).search(t);if(e<0)return;const n=i.substr(s-1).match(t),r=[e+s,e+s+n[0].length-1];return n.shift(),[...r,...n]}const a=i.indexOf(o,s-1);return-1===a?void 0:[a+1,a+o.length]},format:function(t,...e){let n=-1;return t.replace(/%%|%([-+ #0]*)?(\d*)?(?:\.(\d*))?(.)/g,((t,r,i,o,s)=>{if("%%"===t)return"%";if(!s.match(/[AEGXacdefgioqsux]/))throw new u(`invalid option '%${t}' to 'format'`);if(r&&r.length>5)throw new u("invalid format (repeated flags)");if(i&&i.length>2)throw new u("invalid format (width too long)");if(o&&o.length>2)throw new u("invalid format (precision too long)");n+=1;const a=e[n];if(void 0===a)throw new u(`bad argument #${n} to 'format' (no value)`);return/A|a|E|e|f|G|g/.test(s)||/c|d|i|o|u|X|x/.test(s)?l(t,v(a,"format",n)):"q"===s?`"${a.replace(/([\n"])/g,"\\$1")}"`:l(t,"s"===s?y(a):a)}))},gmatch:function(t,e){const n=_(t,"gmatch",1),r=z(_(e,"gmatch",2)),i=new RegExp(r,"g"),o=n.match(i);return()=>{const t=o.shift();if(void 0===t)return[];const e=new RegExp(r).exec(t);return e.shift(),e.length?e:[t]}},gsub:function(t,e,n,r){let i=_(t,"gsub",1);const o=void 0===r?1/0:v(r,"gsub",3),s=z(_(e,"gsub",2)),a="function"==typeof n?t=>{const e=n(t[0])[0];return void 0===e?t[0]:e}:n instanceof f?t=>n.get(t[0]).toString():t=>`${n}`.replace(/%([0-9])/g,((e,n)=>t[n]));let c,l,u="",h=0;for(;h<o&&i&&(c=i.match(s));){const t=c[0].length>0?i.substr(0,c.index):void 0===l?"":i.substr(0,1);l=c[0],u+=`${t}${a(c)}`,i=i.substr(`${t}${l}`.length),h+=1}return`${u}${i}`},len:function(t){return _(t,"len",1).length},lower:function(t){return _(t,"lower",1).toLowerCase()},match:function(t,e,n=0){let r=_(t,"match",1);const i=_(e,"match",2),o=v(n,"match",3);r=r.substr(o);const s=r.match(new RegExp(z(i)));if(s)return s[1]?(s.shift(),s):s[0]},rep:function(t,e,n){const r=_(t,"rep",1),i=v(e,"rep",2),o=void 0===n?"":_(n,"rep",3);return Array(i).fill(r).join(o)},reverse:function(t){return _(t,"reverse",1).split("").reverse().join("")},sub:function(t,e=1,n=-1){const r=_(t,"sub",1);let i=g(v(e,"sub",2),r.length),o=g(v(n,"sub",3),r.length);return i<1&&(i=1),o>r.length&&(o=r.length),i<=o?r.substr(i-1,o-i+1):""},upper:function(t){return _(t,"upper",1).toUpperCase()}}),X=new f({__index:K});function q(t,e){if(void 0===e)throw new u("Bad argument #2 to ipairs() iterator");const n=e+1,r=t.numValues;if(r[n]&&void 0!==r[n])return[n,r[n]]}function Z(t,e){if(w(t))return[t,e];const n=void 0===e?"Assertion failed!":_(e,"assert",2);throw new u(n)}function J(){return[]}function Q(t){const e=_(t,"error",1);throw new u(e)}function tt(t){if(t instanceof f&&t.metatable){return t.metatable.rawget("__metatable")||t.metatable}if("string"==typeof t)return X}function et(t){const e=A(t,"ipairs",1),n=e.getMetaMethod("__pairs")||e.getMetaMethod("__ipairs");return n?n(e).slice(0,3):[q,e,0]}function nt(t,e){const n=A(t,"next",1);let r=void 0===e;if(r||"number"==typeof e&&e>0){const t=n.numValues,i=Object.keys(t);let o=1;if(!r){const t=i.indexOf(`${e}`);t>=0&&(r=!0,o+=t)}if(r)for(;void 0!==i[o];o++){const e=Number(i[o]),n=t[e];if(void 0!==n)return[e,n]}}for(const t in n.strValues)if(O(n.strValues,t))if(r){if(void 0!==n.strValues[t])return[t,n.strValues[t]]}else t===e&&(r=!0);for(const t in n.keys)if(O(n.keys,t)){const i=n.keys[t];if(r){if(void 0!==n.values[t])return[i,n.values[t]]}else i===e&&(r=!0)}}function rt(t){const e=A(t,"pairs",1),n=e.getMetaMethod("__pairs");return n?n(e).slice(0,3):[nt,e,void 0]}function it(t,...e){if("function"!=typeof t)throw new u("Attempt to call non-function");try{return[!0,...t(...e)]}catch(t){return[!1,t&&t.toString()]}}function ot(t,e){return t===e}function st(t,e){return A(t,"rawget",1).rawget(e)}function at(t){if(t instanceof f)return t.getn();if("string"==typeof t)return t.length;throw new u("attempt to get length of an unsupported value")}function ct(t,e,n){const r=A(t,"rawset",1);if(void 0===e)throw new u("table index is nil");return r.rawset(e,n),r}function lt(t,...e){if("#"===t)return e.length;if("number"==typeof t){const n=g(Math.trunc(t),e.length);return e.slice(n-1)}throw new u(`bad argument #1 to 'select' (number expected, got ${p(t)})`)}function ut(t,e){const n=A(t,"setmetatable",1);if(n.metatable&&n.metatable.rawget("__metatable"))throw new u("cannot change a protected metatable");return n.metatable=null==e?null:A(e,"setmetatable",2),n}function ft(t,e){const n=E(t).trim(),r=void 0===e?10:v(e,"tonumber",2);if(10!==r&&"nil"===n)throw new u("bad argument #1 to 'tonumber' (string expected, got nil)");if(r<2||r>36)throw new u("bad argument #2 to 'tonumber' (base out of range)");if(""!==n)return 10===r?m(n):new RegExp(`^${16===r?"(0x)?":""}[${"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(0,r)}]*$`,"gi").test(n)?parseInt(n,r):void 0}function ht(t,e,...n){if("function"!=typeof t||"function"!=typeof e)throw new u("Attempt to call non-function");try{return[!0,...t(...n)]}catch(t){return[!1,e(t)[0]]}}const dt=(t,e,n,r)=>{const i=t instanceof f&&t.getMetaMethod(n)||e instanceof f&&e.getMetaMethod(n);return i?i(t,e)[0]:r(m(t,"attempt to perform arithmetic on a %type value"),m(e,"attempt to perform arithmetic on a %type value"))},pt=(t,e,n,r)=>"string"==typeof t&&"string"==typeof e||"number"==typeof t&&"number"==typeof e?r(t,e):dt(t,e,n,r),yt=t=>w(t),gt=(t,e)=>{const n=e!==t&&t instanceof f&&e instanceof f&&t.metatable===e.metatable&&t.getMetaMethod("__eq");return n?!!n(t,e)[0]:t===e},bt=(t,e)=>pt(t,e,"__lt",((t,e)=>t<e)),wt=(t,e)=>pt(t,e,"__le",((t,e)=>t<=e)),mt={bool:yt,and:(t,e)=>w(t)?e:t,or:(t,e)=>w(t)?t:e,not:t=>!yt(t),unm:t=>{const e=t instanceof f&&t.getMetaMethod("__unm");return e?e(t)[0]:-1*m(t,"attempt to perform arithmetic on a %type value")},bnot:t=>{const e=t instanceof f&&t.getMetaMethod("__bnot");return e?e(t)[0]:~m(t,"attempt to perform arithmetic on a %type value")},len:t=>{if(t instanceof f){const e=t.getMetaMethod("__len");return e?e(t)[0]:t.getn()}if("string"==typeof t)return t.length;throw new u("attempt to get length of an unsupported value")},add:(t,e)=>dt(t,e,"__add",((t,e)=>t+e)),sub:(t,e)=>dt(t,e,"__sub",((t,e)=>t-e)),mul:(t,e)=>dt(t,e,"__mul",((t,e)=>t*e)),mod:(t,e)=>dt(t,e,"__mod",((t,e)=>{if(0===e||e===-1/0||e===1/0||isNaN(t)||isNaN(e))return NaN;const n=Math.abs(e);let r=Math.abs(t)%n;return t*e<0&&(r=n-r),e<0&&(r*=-1),r})),pow:(t,e)=>dt(t,e,"__pow",Math.pow),div:(t,e)=>dt(t,e,"__div",((t,e)=>{if(void 0===e)throw new u("attempt to perform arithmetic on a nil value");return t/e})),idiv:(t,e)=>dt(t,e,"__idiv",((t,e)=>{if(void 0===e)throw new u("attempt to perform arithmetic on a nil value");return Math.floor(t/e)})),band:(t,e)=>dt(t,e,"__band",((t,e)=>t&e)),bor:(t,e)=>dt(t,e,"__bor",((t,e)=>t|e)),bxor:(t,e)=>dt(t,e,"__bxor",((t,e)=>t^e)),shl:(t,e)=>dt(t,e,"__shl",((t,e)=>t<<e)),shr:(t,e)=>dt(t,e,"__shr",((t,e)=>t>>e)),concat:(t,e)=>{const n=t instanceof f&&t.getMetaMethod("__concat")||e instanceof f&&e.getMetaMethod("__concat");return n?n(t,e)[0]:`${E(t,"attempt to concatenate a %type value")}${E(e,"attempt to concatenate a %type value")}`},neq:(t,e)=>!gt(t,e),eq:gt,lt:bt,le:wt,gt:(t,e)=>!wt(t,e),ge:(t,e)=>!bt(t,e)},Et=Number.MAX_SAFE_INTEGER,St=Number.MIN_SAFE_INTEGER,vt=Math.PI;let _t=1;function At(){return _t=16807*_t%2147483647,_t/2147483647}function Nt(t,e){const n=v(t,"atan",1),r=void 0===e?1:v(e,"atan",2);return Math.atan2(n,r)}function Ot(t){const e=v(t,"exp",1);return Math.exp(e)}function It(t){const e=m(t);if(void 0!==e)return Math.floor(e)}const Rt=new f({abs:function(t){const e=v(t,"abs",1);return Math.abs(e)},acos:function(t){const e=v(t,"acos",1);return Math.acos(e)},asin:function(t){const e=v(t,"asin",1);return Math.asin(e)},atan:Nt,atan2:function(t,e){return Nt(t,e)},ceil:function(t){const e=v(t,"ceil",1);return Math.ceil(e)},cos:function(t){const e=v(t,"cos",1);return Math.cos(e)},cosh:function(t){const e=v(t,"cosh",1);return(Ot(e)+Ot(-e))/2},deg:function(t){return 180*v(t,"deg",1)/Math.PI},exp:Ot,floor:function(t){const e=v(t,"floor",1);return Math.floor(e)},fmod:function(t,e){return v(t,"fmod",1)%v(e,"fmod",2)},frexp:function(t){let e=v(t,"frexp",1);if(0===e)return[0,0];const n=e>0?1:-1;e*=n;const r=Math.floor(Math.log(e)/Math.log(2))+1;return[e/Math.pow(2,r)*n,r]},huge:1/0,ldexp:function(t,e){const n=v(t,"ldexp",1),r=v(e,"ldexp",2);return n*Math.pow(2,r)},log:function(t,e){const n=v(t,"log",1);if(void 0===e)return Math.log(n);{const t=v(e,"log",2);return Math.log(n)/Math.log(t)}},log10:function(t){const e=v(t,"log10",1);return Math.log(e)/Math.log(10)},max:function(...t){const e=t.map(((t,e)=>v(t,"max",e+1)));return Math.max(...e)},min:function(...t){const e=t.map(((t,e)=>v(t,"min",e+1)));return Math.min(...e)},maxinteger:Et,mininteger:St,modf:function(t){const e=v(t,"modf",1),n=Math.floor(e);return[n,e-n]},pi:vt,pow:function(t,e){const n=v(t,"pow",1),r=v(e,"pow",2);return Math.pow(n,r)},rad:function(t){const e=v(t,"rad",1);return Math.PI/180*e},random:function(t,e){if(void 0===t&&void 0===e)return At();const n=v(t,"random",1),r=void 0!==e?n:1,i=void 0!==e?v(e,"random",2):n;if(r>i)throw new Error("bad argument #2 to 'random' (interval is empty)");return Math.floor(At()*(i-r+1)+r)},randomseed:function(t){_t=v(t,"randomseed",1)},sin:function(t){const e=v(t,"sin",1);return Math.sin(e)},sinh:function(t){const e=v(t,"sinh",1);return(Ot(e)-Ot(-e))/2},sqrt:function(t){const e=v(t,"sqrt",1);return Math.sqrt(e)},tan:function(t){const e=v(t,"tan",1);return Math.tan(e)},tanh:function(t){const e=v(t,"tanh",1);return(Ot(e)-Ot(-e))/(Ot(e)+Ot(-e))},tointeger:It,type:function(t){const e=m(t);if(void 0!==e)return It(e)===e?"integer":"float"},ult:function(t,e){const n=v(t,"ult",1),r=v(e,"ult",2),i=t=>t>>>0;return i(n)<i(r)}});function xt(t){return A(t,"maxn",1).numValues.length-1}const Tt=new f({getn:function(t){return A(t,"getn",1).getn()},concat:function(t,e="",n=1,r){const i=A(t,"concat",1),o=_(e,"concat",2),s=v(n,"concat",3),a=void 0===r?xt(i):v(r,"concat",4);return[].concat(i.numValues).splice(s,a-s+1).join(o)},insert:function(t,e,n){const r=A(t,"insert",1),i=void 0===n?r.numValues.length:v(e,"insert",2),o=void 0===n?e:n;r.numValues.splice(i,0,void 0),r.set(i,o)},maxn:xt,move:function(t,e,n,r,i){const o=A(t,"move",1),s=v(e,"move",2),a=v(n,"move",3),c=v(r,"move",4),l=void 0===i?o:A(i,"move",5);if(a>=s){if(s<=0&&a>=Number.MAX_SAFE_INTEGER+s)throw new u("too many elements to move");const t=a-s+1;if(c>Number.MAX_SAFE_INTEGER-t+1)throw new u("destination wrap around");if(c>a||c<=s||l!==o)for(let e=0;e<t;e++){const t=o.get(s+e);l.set(c+e,t)}else for(let e=t-1;e>=0;e--){const t=o.get(s+e);l.set(c+e,t)}}return l},pack:function(...t){const e=new f(t);return e.rawset("n",t.length),e},remove:function(t,e){const n=A(t,"remove",1),r=n.getn(),i=void 0===e?r:v(e,"remove",2);if(i>r||i<0)return;const o=n.numValues,s=o.splice(i,1)[0];let a=i;for(;a<r&&void 0===o[a];)delete o[a],a+=1;return s},sort:function(t,e){const n=A(t,"sort",1);let r;if(e){const t=function(t,e,n){if(t instanceof Function)return t;{const r=p(t);throw new u(`bad argument #${n} to '${e}' (function expected, got ${r})`)}}(e,"sort",2);r=(e,n)=>w(t(e,n)[0])?-1:1}else r=(t,e)=>t<e?-1:1;const i=n.numValues;i.shift(),i.sort(r).unshift(void 0)},unpack:function(t,e,n){const r=A(t,"unpack",1),i=void 0===e?1:v(e,"unpack",2),o=void 0===n?r.getn():v(n,"unpack",3);return r.numValues.slice(i,o+1)}}),kt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Lt=["January","February","March","April","May","June","July","August","September","October","November","December"],Ct=[31,28,31,30,31,30,31,31,30,31,30,31],Mt={"%":()=>"%",Y:(t,e)=>`${e?t.getUTCFullYear():t.getFullYear()}`,y:(t,e)=>Mt.Y(t,e).substr(-2),b:(t,e)=>Mt.B(t,e).substr(0,3),B:(t,e)=>Lt[e?t.getUTCMonth():t.getMonth()],m:(t,e)=>`0${(e?t.getUTCMonth():t.getMonth())+1}`.substr(-2),U:(t,e)=>Ft(t,0,e),W:(t,e)=>Ft(t,1,e),j:(t,e)=>{let n=e?t.getUTCDate():t.getDate();const r=e?t.getUTCMonth():t.getMonth(),i=e?t.getUTCFullYear():t.getFullYear();return n+=Ct.slice(0,r).reduce(((t,e)=>t+e),0),r>1&&i%4==0&&(n+=1),`00${n}`.substr(-3)},d:(t,e)=>`0${e?t.getUTCDate():t.getDate()}`.substr(-2),a:(t,e)=>Mt.A(t,e).substr(0,3),A:(t,e)=>kt[e?t.getUTCDay():t.getDay()],w:(t,e)=>`${e?t.getUTCDay():t.getDay()}`,H:(t,e)=>`0${e?t.getUTCHours():t.getHours()}`.substr(-2),I:(t,e)=>`0${(e?t.getUTCHours():t.getHours())%12||12}`.substr(-2),M:(t,e)=>`0${e?t.getUTCMinutes():t.getMinutes()}`.substr(-2),S:(t,e)=>`0${e?t.getUTCSeconds():t.getSeconds()}`.substr(-2),c:(t,e)=>t.toLocaleString(void 0,e?{timeZone:"UTC"}:void 0),x:(t,e)=>`${Mt.m(t,e)}/${Mt.d(t,e)}/${Mt.y(t,e)}`,X:(t,e)=>`${Mt.H(t,e)}:${Mt.M(t,e)}:${Mt.S(t,e)}`,p:(t,e)=>(e?t.getUTCHours():t.getHours())<12?"AM":"PM",Z:(t,e)=>{if(e)return"UTC";const n=t.toString().match(/[A-Z][A-Z][A-Z]/);return n?n[0]:""}};function Dt(t){const e=t.getFullYear(),n=new Date(e,0);return t.getTimezoneOffset()!==n.getTimezoneOffset()}function Ft(t,e,n){const r=parseInt(Mt.j(t,n),10),i=new Date(t.getFullYear(),0,1,12),o=(8-(n?i.getUTCDay():i.getDay())+e)%7;return`0${Math.floor((r-o)/7)+1}`.substr(-2)}function $t(t="%c",e){const n="!"===t.substr(0,1),r=n?t.substr(1):t,i=new Date;return e&&i.setTime(1e3*e),"*t"===r?new f({year:parseInt(Mt.Y(i,n),10),month:parseInt(Mt.m(i,n),10),day:parseInt(Mt.d(i,n),10),hour:parseInt(Mt.H(i,n),10),min:parseInt(Mt.M(i,n),10),sec:parseInt(Mt.S(i,n),10),wday:parseInt(Mt.w(i,n),10)+1,yday:parseInt(Mt.j(i,n),10),isdst:Dt(i)}):r.replace(/%[%YybBmUWjdaAwHIMScxXpZ]/g,(t=>Mt[t[1]](i,n)))}function Pt(t="C"){if("C"===t)return"C"}function Bt(t){let e=Math.round(Date.now()/1e3);if(!t)return e;const n=t.rawget("year"),r=t.rawget("month"),i=t.rawget("day"),o=t.rawget("hour")||12,s=t.rawget("min"),a=t.rawget("sec");return n&&(e+=31557600*n),r&&(e+=2629800*r),i&&(e+=86400*i),o&&(e+=3600*o),s&&(e+=60*s),a&&(e+=a),e}function Ut(t,e){return v(t,"difftime",1)-v(e,"difftime",2)}const jt=(t,...e)=>{if(t instanceof Function)return N(t(...e));const n=t instanceof f&&t.getMetaMethod("__call");if(n)return N(n(t,...e));throw new u("attempt to call an uncallable type")},Wt=new f;Wt.metatable=X;const Vt=(t,e)=>{if(t instanceof f)return t.get(e);if("string"==typeof t)return Wt.get(e);throw new u("no table or metatable found for given type")},Gt=(t,e,n)=>{const r=new Function("__lua",e),i=new I(t.strValues).extend();n&&i.setVarargs([n]);const o=r(Object.assign(Object.assign({globalScope:i},mt),{Table:f,call:jt,get:Vt}));return void 0===o?[void 0]:o};var Ht,Yt;n(975),(Yt=Ht||(Ht={}))[Yt.EPERM=1]="EPERM",Yt[Yt.ENOENT=2]="ENOENT",Yt[Yt.EINTR=4]="EINTR",Yt[Yt.EIO=5]="EIO",Yt[Yt.ENXIO=6]="ENXIO",Yt[Yt.EBADF=9]="EBADF",Yt[Yt.EAGAIN=11]="EAGAIN",Yt[Yt.ENOMEM=12]="ENOMEM",Yt[Yt.EACCES=13]="EACCES",Yt[Yt.EFAULT=14]="EFAULT",Yt[Yt.ENOTBLK=15]="ENOTBLK",Yt[Yt.EBUSY=16]="EBUSY",Yt[Yt.EEXIST=17]="EEXIST",Yt[Yt.EXDEV=18]="EXDEV",Yt[Yt.ENODEV=19]="ENODEV",Yt[Yt.ENOTDIR=20]="ENOTDIR",Yt[Yt.EISDIR=21]="EISDIR",Yt[Yt.EINVAL=22]="EINVAL",Yt[Yt.ENFILE=23]="ENFILE",Yt[Yt.EMFILE=24]="EMFILE",Yt[Yt.ETXTBSY=26]="ETXTBSY",Yt[Yt.EFBIG=27]="EFBIG",Yt[Yt.ENOSPC=28]="ENOSPC",Yt[Yt.ESPIPE=29]="ESPIPE",Yt[Yt.EROFS=30]="EROFS",Yt[Yt.EMLINK=31]="EMLINK",Yt[Yt.EPIPE=32]="EPIPE",Yt[Yt.EDOM=33]="EDOM",Yt[Yt.ERANGE=34]="ERANGE",Yt[Yt.EDEADLK=35]="EDEADLK",Yt[Yt.ENAMETOOLONG=36]="ENAMETOOLONG",Yt[Yt.ENOLCK=37]="ENOLCK",Yt[Yt.ENOSYS=38]="ENOSYS",Yt[Yt.ENOTEMPTY=39]="ENOTEMPTY",Yt[Yt.ELOOP=40]="ELOOP",Yt[Yt.ENOMSG=42]="ENOMSG",Yt[Yt.EBADE=52]="EBADE",Yt[Yt.EBADR=53]="EBADR",Yt[Yt.EXFULL=54]="EXFULL",Yt[Yt.ENOANO=55]="ENOANO",Yt[Yt.EBADRQC=56]="EBADRQC",Yt[Yt.ENOSTR=60]="ENOSTR",Yt[Yt.ENODATA=61]="ENODATA",Yt[Yt.ETIME=62]="ETIME",Yt[Yt.ENOSR=63]="ENOSR",Yt[Yt.ENONET=64]="ENONET",Yt[Yt.EREMOTE=66]="EREMOTE",Yt[Yt.ENOLINK=67]="ENOLINK",Yt[Yt.ECOMM=70]="ECOMM",Yt[Yt.EPROTO=71]="EPROTO",Yt[Yt.EBADMSG=74]="EBADMSG",Yt[Yt.EOVERFLOW=75]="EOVERFLOW",Yt[Yt.EBADFD=77]="EBADFD",Yt[Yt.ESTRPIPE=86]="ESTRPIPE",Yt[Yt.ENOTSOCK=88]="ENOTSOCK",Yt[Yt.EDESTADDRREQ=89]="EDESTADDRREQ",Yt[Yt.EMSGSIZE=90]="EMSGSIZE",Yt[Yt.EPROTOTYPE=91]="EPROTOTYPE",Yt[Yt.ENOPROTOOPT=92]="ENOPROTOOPT",Yt[Yt.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",Yt[Yt.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",Yt[Yt.ENOTSUP=95]="ENOTSUP",Yt[Yt.ENETDOWN=100]="ENETDOWN",Yt[Yt.ENETUNREACH=101]="ENETUNREACH",Yt[Yt.ENETRESET=102]="ENETRESET",Yt[Yt.ETIMEDOUT=110]="ETIMEDOUT",Yt[Yt.ECONNREFUSED=111]="ECONNREFUSED",Yt[Yt.EHOSTDOWN=112]="EHOSTDOWN",Yt[Yt.EHOSTUNREACH=113]="EHOSTUNREACH",Yt[Yt.EALREADY=114]="EALREADY",Yt[Yt.EINPROGRESS=115]="EINPROGRESS",Yt[Yt.ESTALE=116]="ESTALE",Yt[Yt.EREMOTEIO=121]="EREMOTEIO",Yt[Yt.EDQUOT=122]="EDQUOT";const zt={[Ht.EPERM]:"Operation not permitted",[Ht.ENOENT]:"No such file or directory",[Ht.EINTR]:"Interrupted system call",[Ht.EIO]:"Input/output error",[Ht.ENXIO]:"No such device or address",[Ht.EBADF]:"Bad file descriptor",[Ht.EAGAIN]:"Resource temporarily unavailable",[Ht.ENOMEM]:"Cannot allocate memory",[Ht.EACCES]:"Permission denied",[Ht.EFAULT]:"Bad address",[Ht.ENOTBLK]:"Block device required",[Ht.EBUSY]:"Resource busy or locked",[Ht.EEXIST]:"File exists",[Ht.EXDEV]:"Invalid cross-device link",[Ht.ENODEV]:"No such device",[Ht.ENOTDIR]:"File is not a directory",[Ht.EISDIR]:"File is a directory",[Ht.EINVAL]:"Invalid argument",[Ht.ENFILE]:"Too many open files in system",[Ht.EMFILE]:"Too many open files",[Ht.ETXTBSY]:"Text file busy",[Ht.EFBIG]:"File is too big",[Ht.ENOSPC]:"No space left on disk",[Ht.ESPIPE]:"Illegal seek",[Ht.EROFS]:"Cannot modify a read-only file system",[Ht.EMLINK]:"Too many links",[Ht.EPIPE]:"Broken pipe",[Ht.EDOM]:"Numerical argument out of domain",[Ht.ERANGE]:"Numerical result out of range",[Ht.EDEADLK]:"Resource deadlock would occur",[Ht.ENAMETOOLONG]:"File name too long",[Ht.ENOLCK]:"No locks available",[Ht.ENOSYS]:"Function not implemented",[Ht.ENOTEMPTY]:"Directory is not empty",[Ht.ELOOP]:"Too many levels of symbolic links",[Ht.ENOMSG]:"No message of desired type",[Ht.EBADE]:"Invalid exchange",[Ht.EBADR]:"Invalid request descriptor",[Ht.EXFULL]:"Exchange full",[Ht.ENOANO]:"No anode",[Ht.EBADRQC]:"Invalid request code",[Ht.ENOSTR]:"Device not a stream",[Ht.ENODATA]:"No data available",[Ht.ETIME]:"Timer expired",[Ht.ENOSR]:"Out of streams resources",[Ht.ENONET]:"Machine is not on the network",[Ht.EREMOTE]:"Object is remote",[Ht.ENOLINK]:"Link has been severed",[Ht.ECOMM]:"Communication error on send",[Ht.EPROTO]:"Protocol error",[Ht.EBADMSG]:"Bad message",[Ht.EOVERFLOW]:"Value too large for defined data type",[Ht.EBADFD]:"File descriptor in bad state",[Ht.ESTRPIPE]:"Streams pipe error",[Ht.ENOTSOCK]:"Socket operation on non-socket",[Ht.EDESTADDRREQ]:"Destination address required",[Ht.EMSGSIZE]:"Message too long",[Ht.EPROTOTYPE]:"Protocol wrong type for socket",[Ht.ENOPROTOOPT]:"Protocol not available",[Ht.EPROTONOSUPPORT]:"Protocol not supported",[Ht.ESOCKTNOSUPPORT]:"Socket type not supported",[Ht.ENOTSUP]:"Operation is not supported",[Ht.ENETDOWN]:"Network is down",[Ht.ENETUNREACH]:"Network is unreachable",[Ht.ENETRESET]:"Network dropped connection on reset",[Ht.ETIMEDOUT]:"Connection timed out",[Ht.ECONNREFUSED]:"Connection refused",[Ht.EHOSTDOWN]:"Host is down",[Ht.EHOSTUNREACH]:"No route to host",[Ht.EALREADY]:"Operation already in progress",[Ht.EINPROGRESS]:"Operation now in progress",[Ht.ESTALE]:"Stale file handle",[Ht.EREMOTEIO]:"Remote I/O error",[Ht.EDQUOT]:"Disk quota exceeded"};class Kt extends Error{static fromJSON(t){const e=new Kt(t.errno,t.message,t.path,t.syscall);return e.code=t.code,e.stack=t.stack,e}static With(t,e,n){return new Kt(Ht[t],zt[Ht[t]],e,n)}constructor(t,e=zt[t],n,r=""){super(e),this.errno=t,this.path=n,this.syscall=r,this.code=Ht[t],this.message=`${this.code}: ${e}${this.path?`, '${this.path}'`:""}`}toString(){return this.message}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}}const Xt=0,qt=4,Zt=2,Jt=1,Qt=1,te=2,ee=4,ne=0,re=1,ie=2,oe=64,se=128,ae=256,ce=512,le=1024,ue=65536,fe=262144,he=131072,de=1052672,pe=4096,ye=32768,ge=16384,be=2048,we=61440,me=49152,Ee=40960,Se=32768,ve=24576,_e=16384,Ae=8192,Ne=4096,Oe=2048,Ie=1024,Re=512,xe=448,Te=256,ke=128,Le=64,Ce=56,Me=32,De=16,Fe=8,$e=7,Pe=4,Be=2,Ue=1,je=0;class We{_convert(t){return this._isBigint?BigInt(t):Number(t)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}get atime(){return new Date(Number(this.atimeMs))}set atime(t){this.atimeMs=this._convert(t.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(t){this.mtimeMs=this._convert(t.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(t){this.ctimeMs=this._convert(t.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(t){this.birthtimeMs=this._convert(t.getTime())}constructor({atimeMs:t,mtimeMs:e,ctimeMs:n,birthtimeMs:r,uid:i,gid:o,size:s,mode:a,ino:c}={}){this.dev=this._convert(0),this.ino=this._convert(0),this.rdev=this._convert(0),this.nlink=this._convert(1),this.blksize=this._convert(4096),this.uid=this._convert(0),this.gid=this._convert(0);const l=Date.now();this.atimeMs=this._convert(t??l),this.mtimeMs=this._convert(e??l),this.ctimeMs=this._convert(n??l),this.birthtimeMs=this._convert(r??l),this.uid=this._convert(i??0),this.gid=this._convert(o??0),this.size=this._convert(s??0),this.ino=this._convert(c??0),this.mode=this._convert(a??420&Se),this.mode&we||(this.mode=this.mode|this._convert(Se))}isFile(){return(this.mode&we)===Se}isDirectory(){return(this.mode&we)===_e}isSymbolicLink(){return(this.mode&we)===Ee}isSocket(){return(this.mode&we)===me}isBlockDevice(){return(this.mode&we)===ve}isCharacterDevice(){return(this.mode&we)===Ae}isFIFO(){return(this.mode&we)===Ne}hasAccess(t,e){if(0===e.euid||0===e.egid)return!0;const n=(e.uid==this.uid?xe:0)|(e.gid==this.gid?Ce:0)|$e;return(t&this.mode&n)==t}cred(t=Number(this.uid),e=Number(this.gid)){return{uid:t,gid:e,suid:Number(this.uid),sgid:Number(this.gid),euid:t,egid:e}}chmod(t){this.mode=this._convert(this.mode&we|t)}chown(t,e){t=Number(t),e=Number(e),!isNaN(t)&&0<=t&&t<2**32&&(this.uid=this._convert(t)),!isNaN(e)&&0<=e&&e<2**32&&(this.gid=this._convert(e))}get atimeNs(){return 1000n*BigInt(this.atimeMs)}get mtimeNs(){return 1000n*BigInt(this.mtimeMs)}get ctimeNs(){return 1000n*BigInt(this.ctimeMs)}get birthtimeNs(){return 1000n*BigInt(this.birthtimeMs)}}class Ve extends We{constructor(){super(...arguments),this._isBigint=!1}}class Ge extends We{constructor(){super(...arguments),this._isBigint=!0}}class He{constructor(){this.type=525687744115,this.bsize=4096,this.blocks=0,this.bfree=0,this.bavail=0,this.files=ze,this.ffree=ze}}class Ye{constructor(){this.type=0x7a656e6673n,this.bsize=4096n,this.blocks=0n,this.bfree=0n,this.bavail=0n,this.files=BigInt(ze),this.ffree=BigInt(ze)}}const ze=2**32-1;function Ke(){return Math.round(Math.random()*2**32).toString(16)}function Xe(){return BigInt("0x"+Ke()+Ke())}class qe{get data(){return new Uint8Array(this.buffer)}constructor(t){const e=!t;if(t??(t=new ArrayBuffer(58)),t?.byteLength<58)throw new RangeError("Can not create an inode from a buffer less than 58 bytes");if(this.view=new DataView(t),this.buffer=t,!e)return;this.ino=Xe(),this.nlink=1,this.size=4096;const n=Date.now();this.atimeMs=n,this.mtimeMs=n,this.ctimeMs=n,this.birthtimeMs=n}get ino(){return this.view.getBigUint64(0,!0)}set ino(t){this.view.setBigUint64(0,t,!0)}get size(){return this.view.getUint32(8,!0)}set size(t){this.view.setUint32(8,t,!0)}get mode(){return this.view.getUint16(12,!0)}set mode(t){this.view.setUint16(12,t,!0)}get nlink(){return this.view.getUint32(14,!0)}set nlink(t){this.view.setUint32(14,t,!0)}get uid(){return this.view.getUint32(18,!0)}set uid(t){this.view.setUint32(18,t,!0)}get gid(){return this.view.getUint32(22,!0)}set gid(t){this.view.setUint32(22,t,!0)}get atimeMs(){return this.view.getFloat64(26,!0)}set atimeMs(t){this.view.setFloat64(26,t,!0)}get birthtimeMs(){return this.view.getFloat64(34,!0)}set birthtimeMs(t){this.view.setFloat64(34,t,!0)}get mtimeMs(){return this.view.getFloat64(42,!0)}set mtimeMs(t){this.view.setFloat64(42,t,!0)}get ctimeMs(){return this.view.getFloat64(50,!0)}set ctimeMs(t){this.view.setFloat64(50,t,!0)}toStats(){return new Ve(this)}update(t){let e=!1;return this.size!==t.size&&(this.size=t.size,e=!0),this.mode!==t.mode&&(this.mode=t.mode,e=!0),this.nlink!==t.nlink&&(this.nlink=t.nlink,e=!0),this.uid!==t.uid&&(this.uid=t.uid,e=!0),this.uid!==t.uid&&(this.uid=t.uid,e=!0),this.atimeMs!==t.atimeMs&&(this.atimeMs=t.atimeMs,e=!0),this.mtimeMs!==t.mtimeMs&&(this.mtimeMs=t.mtimeMs,e=!0),this.ctimeMs!==t.ctimeMs&&(this.ctimeMs=t.ctimeMs,e=!0),e}}Promise.withResolvers??(Promise.withResolvers=function(){let t,e;const n=new Promise(((n,r)=>{t=n,e=r}));return{promise:n,resolve:t,reject:e}}),Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const Ze=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function Je(t){if("number"==typeof t)return function(t){switch(t){case ne:return"r";case ne|de:return"rs";case ie:return"r+";case ie|de:return"rs+";case ce|oe|re:return"w";case ce|oe|re|se:return"wx";case ce|oe|ie:return"w+";case ce|oe|ie|se:return"wx+";case le|oe|re:return"a";case le|oe|re|se:return"ax";case le|oe|ie:return"a+";case le|oe|ie|se:return"ax+";default:throw new Error("Invalid flag number: "+t)}}(t);if(!Ze.includes(t))throw new Error("Invalid flag string: "+t);return t}function Qe(t){let e=0;return e<<=1,e+=+tn(t),e<<=1,e+=+en(t),e<<=1,e}function tn(t){return-1!==t.indexOf("r")||-1!==t.indexOf("+")}function en(t){return-1!==t.indexOf("w")||-1!==t.indexOf("a")||-1!==t.indexOf("+")}function nn(t){return-1!==t.indexOf("w")}function rn(t){return-1!==t.indexOf("a")}function on(t){return-1!==t.indexOf("x")}class sn{[Symbol.asyncDispose](){return this.close()}[Symbol.dispose](){return this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}}class an extends sn{constructor(t,e,n,r,i=new Uint8Array(new ArrayBuffer(0,t.metadata().noResizableBuffers?{}:{maxByteLength:ze}))){if(super(),this.fs=t,this.path=e,this.flag=n,this.stats=r,this._buffer=i,this._position=0,this.dirty=!1,this.stats.size!=i.byteLength){if(tn(this.flag))throw new Error(`Size mismatch: buffer length ${i.byteLength}, stats size ${this.stats.size}`);this.dirty=!0}}get buffer(){return this._buffer}get position(){return rn(this.flag)?this.stats.size:this._position}set position(t){this._position=t}async sync(){this.dirty&&(await this.fs.sync(this.path,this._buffer,this.stats),this.dirty=!1)}syncSync(){this.dirty&&(this.fs.syncSync(this.path,this._buffer,this.stats),this.dirty=!1)}async close(){await this.sync()}closeSync(){this.syncSync()}stat(){return Promise.resolve(new Ve(this.stats))}statSync(){return new Ve(this.stats)}_truncate(t){if(this.dirty=!0,!en(this.flag))throw new Kt(Ht.EPERM,"File not opened with a writeable mode.");if(this.stats.mtimeMs=Date.now(),t>this._buffer.length){const e=new Uint8Array(t-this._buffer.length);this.writeSync(e,0,e.length,this._buffer.length)}else this.stats.size=t,this._buffer=this._buffer.slice(0,t)}async truncate(t){this._truncate(t),await this.sync()}truncateSync(t){this._truncate(t),this.syncSync()}_write(t,e=0,n=this.stats.size,r=this.position){if(this.dirty=!0,!en(this.flag))throw new Kt(Ht.EPERM,"File not opened with a writeable mode.");const i=r+n;if(i>this.stats.size&&(this.stats.size=i,i>this._buffer.byteLength))if(this._buffer.buffer.resizable&&this._buffer.buffer.maxByteLength<=i)this._buffer.buffer.resize(i);else{const t=new Uint8Array(new ArrayBuffer(i,this.fs.metadata().noResizableBuffers?{}:{maxByteLength:ze}));t.set(this._buffer),this._buffer=t}const o=t.slice(e,e+n);return this._buffer.set(o,r),this.stats.mtimeMs=Date.now(),this.position=r+o.byteLength,o.byteLength}async write(t,e,n,r){const i=this._write(t,e,n,r);return await this.sync(),i}writeSync(t,e=0,n=this.stats.size,r=this.position){const i=this._write(t,e,n,r);return this.syncSync(),i}_read(t,e=0,n=this.stats.size,r){if(!tn(this.flag))throw new Kt(Ht.EPERM,"File not opened with a readable mode.");this.dirty=!0,r??(r=this.position);let i=r+n;i>this.stats.size&&(i=r+Math.max(this.stats.size-r,0)),this.stats.atimeMs=Date.now(),this._position=i;const o=i-r;return 0==o||new Uint8Array(t.buffer,e,n).set(this._buffer.slice(r,i)),o}async read(t,e,n,r){const i=this._read(t,e,n,r);return await this.sync(),{bytesRead:i,buffer:t}}readSync(t,e,n,r){const i=this._read(t,e,n,r);return this.statSync(),i}async chmod(t){this.dirty=!0,this.stats.chmod(t),await this.sync()}chmodSync(t){this.dirty=!0,this.stats.chmod(t),this.syncSync()}async chown(t,e){this.dirty=!0,this.stats.chown(t,e),await this.sync()}chownSync(t,e){this.dirty=!0,this.stats.chown(t,e),this.syncSync()}async utimes(t,e){this.dirty=!0,this.stats.atime=t,this.stats.mtime=e,await this.sync()}utimesSync(t,e){this.dirty=!0,this.stats.atime=t,this.stats.mtime=e,this.syncSync()}async _setType(t){this.dirty=!0,this.stats.mode=this.stats.mode&~we|t,await this.sync()}_setTypeSync(t){this.dirty=!0,this.stats.mode=this.stats.mode&~we|t,this.syncSync()}}let cn="/";function ln(t,e){let n="",r=0,i=-1,o=0,s="\0";for(let a=0;a<=t.length;++a){if(a<t.length)s=t[a];else{if("/"==s)break;s="/"}if("/"==s){if(i===a-1||1===o);else if(2===o){if(n.length<2||2!==r||"."!==n.at(-1)||"."!==n.at(-2)){if(n.length>2){const t=n.lastIndexOf("/");-1===t?(n="",r=0):(n=n.slice(0,t),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}if(0!==n.length){n="",r=0,i=a,o=0;continue}}e&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else"."===s&&-1!==o?++o:o=-1}return n}function un(...t){let e="";for(const n of[...t.reverse(),cn])if(n.length&&(e=`${n}/${e}`,n.startsWith("/")))break;const n=e.startsWith("/");return e=ln(e,!n),n?`/${e}`:e.length?e:"/"}function fn(...t){if(!t.length)return".";const e=t.join("/");return e?.length?function(t){if(!t.length)return".";const e=t.startsWith("/"),n=t.endsWith("/");return(t=ln(t,!e)).length?(n&&(t+="/"),e?`/${t}`:t):e?"/":n?"./":"."}(e):"."}function hn(t){if(0===t.length)return".";const e="/"===t[0];let n=-1,r=!0;for(let e=t.length-1;e>=1;--e)if("/"===t[e]){if(!r){n=e;break}}else r=!1;return-1===n?e?"/":".":e&&1===n?"//":t.slice(0,n)}function dn(t,e){let n=0,r=-1,i=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,s=-1;for(let a=t.length-1;a>=0;--a)if("/"===t[a]){if(!i){n=a+1;break}}else-1===s&&(i=!1,s=a+1),o>=0&&(t[a]===e[o]?-1==--o&&(r=a):(o=-1,r=s));return n===r?r=s:-1===r&&(r=t.length),t.slice(n,r)}for(let e=t.length-1;e>=0;--e)if("/"===t[e]){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function pn(t){const e=t.startsWith("/"),n={root:e?"/":"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;const r=e?1:0;let i=-1,o=0,s=-1,a=!0,c=t.length-1,l=0;for(;c>=r;--c)if("/"!==t[c])-1===s&&(a=!1,s=c+1),"."===t[c]?-1===i?i=c:1!==l&&(l=1):-1!==i&&(l=-1);else if(!a){o=c+1;break}if(-1!==s){const r=0===o&&e?1:o;-1===i||0===l||1===l&&i===s-1&&i===o+1?n.base=n.name=t.slice(r,s):(n.name=t.slice(r,i),n.base=t.slice(r,s),n.ext=t.slice(i,s))}return o>0?n.dir=t.slice(0,o-1):e&&(n.dir="/"),n}"function"==typeof SuppressedError&&SuppressedError;class yn{metadata(){return{name:this.constructor.name.toLowerCase(),readonly:!1,totalSpace:0,freeSpace:0,noResizableBuffers:!1,noAsyncCache:this._disableSync??!1,type:525687744115}}constructor(...t){}async ready(){}async exists(t,e){try{return await this.stat(t,e),!0}catch(t){return"ENOENT"!=t.code}}existsSync(t,e){try{return this.statSync(t,e),!0}catch(t){return"ENOENT"!=t.code}}}function gn(t){if("string"!=typeof t)throw new Kt(Ht.EINVAL,"Can not encode a non-string");return new Uint8Array(Array.from(t).map((t=>t.charCodeAt(0))))}function bn(t){return JSON.parse(function(t){if(!(t instanceof Uint8Array))throw new Kt(Ht.EINVAL,"Can not decode a non-Uint8Array");return Array.from(t).map((t=>String.fromCharCode(t))).join("")}(t),((t,e)=>""==t?e:BigInt(e)))}function wn(t){return gn(JSON.stringify(t,((t,e)=>""==t?e:e.toString())))}function mn(t,e){if("number"==typeof t)return t;if("string"==typeof t){const e=parseInt(t,8);if(!isNaN(e))return e}if("number"==typeof e)return e;throw new Kt(Ht.EINVAL,"Invalid mode: "+t?.toString())}function En(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(1e3*t);if("string"==typeof t)return new Date(t);throw new Kt(Ht.EINVAL,"Invalid time.")}function Sn(t){if((t=t.toString()).includes("\0"))throw new Kt(Ht.EINVAL,"Path can not contain null character");if(0==t.length)throw new Kt(Ht.EINVAL,"Path can not be empty");return un(t.replaceAll(/[/\\]+/g,"/"))}function vn(t,e="utf8",n,r=0){return"object"!=typeof t||null===t?{encoding:"string"==typeof t?t:e??null,flag:n,mode:r}:{encoding:"string"==typeof t?.encoding?t.encoding:e??null,flag:"string"==typeof t?.flag?t.flag:n,mode:mn("mode"in t?t?.mode:null,r)}}function _n(){}"function"==typeof globalThis.setImmediate&&globalThis.setImmediate;class An extends yn{async ready(){this._initialized||(await this.checkRoot(),this._initialized=!0)}constructor(t){super(),this.store=t,this._initialized=!1}metadata(){return{...super.metadata(),name:this.store.name}}async empty(){await this.store.clear(),await this.checkRoot()}emptySync(){this.store.clearSync(),this.checkRootSync()}async rename(t,e,n){const r=this.store.transaction(),i=hn(t),o=dn(t),s=hn(e),a=dn(e),c=await this.findINode(r,i),l=await this.getDirListing(r,c,i);if(!c.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",t,"rename");if(!l[o])throw Kt.With("ENOENT",t,"rename");const u=l[o];if(delete l[o],0===(s+"/").indexOf(t+"/"))throw new Kt(Ht.EBUSY,i);let f,h;if(s===i?(f=c,h=l):(f=await this.findINode(r,s),h=await this.getDirListing(r,f,s)),h[a]){const t=await this.getINode(r,h[a],e);if(!t.toStats().isFile())throw Kt.With("EPERM",e,"rename");try{await r.remove(t.ino),await r.remove(h[a])}catch(t){throw await r.abort(),t}}h[a]=u;try{await r.set(c.ino,wn(l)),await r.set(f.ino,wn(h))}catch(t){throw await r.abort(),t}await r.commit()}renameSync(t,e,n){const r=this.store.transaction(),i=hn(t),o=dn(t),s=hn(e),a=dn(e),c=this.findINodeSync(r,i),l=this.getDirListingSync(r,c,i);if(!c.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",t,"rename");if(!l[o])throw Kt.With("ENOENT",t,"rename");const u=l[o];if(delete l[o],0==(s+"/").indexOf(t+"/"))throw new Kt(Ht.EBUSY,i);let f,h;if(s===i?(f=c,h=l):(f=this.findINodeSync(r,s),h=this.getDirListingSync(r,f,s)),h[a]){const t=this.getINodeSync(r,h[a],e);if(!t.toStats().isFile())throw Kt.With("EPERM",e,"rename");try{r.removeSync(t.ino),r.removeSync(h[a])}catch(t){throw r.abortSync(),t}}h[a]=u;try{r.setSync(c.ino,wn(l)),r.setSync(f.ino,wn(h))}catch(t){throw r.abortSync(),t}r.commitSync()}async stat(t,e){const n=this.store.transaction(),r=await this.findINode(n,t);if(!r)throw Kt.With("ENOENT",t,"stat");const i=r.toStats();if(!i.hasAccess(qt,e))throw Kt.With("EACCES",t,"stat");return i}statSync(t,e){const n=this.findINodeSync(this.store.transaction(),t).toStats();if(!n.hasAccess(qt,e))throw Kt.With("EACCES",t,"stat");return n}async createFile(t,e,n,r){const i=new Uint8Array(0),o=await this.commitNew(this.store.transaction(),t,Se,n,r,i);return new an(this,t,e,o.toStats(),i)}createFileSync(t,e,n,r){return this.commitNewSync(t,Se,n,r),this.openFileSync(t,e,r)}async openFile(t,e,n){const r=this.store.transaction(),i=await this.findINode(r,t),o=await r.get(i.ino);if(!i.toStats().hasAccess(Qe(e),n))throw Kt.With("EACCES",t,"openFile");if(!o)throw Kt.With("ENOENT",t,"openFile");return new an(this,t,e,i.toStats(),o)}openFileSync(t,e,n){const r=this.store.transaction(),i=this.findINodeSync(r,t),o=r.getSync(i.ino);if(!i.toStats().hasAccess(Qe(e),n))throw Kt.With("EACCES",t,"openFile");if(!o)throw Kt.With("ENOENT",t,"openFile");return new an(this,t,e,i.toStats(),o)}async unlink(t,e){return this.remove(t,!1,e)}unlinkSync(t,e){this.removeSync(t,!1,e)}async rmdir(t,e){if((await this.readdir(t,e)).length>0)throw Kt.With("ENOTEMPTY",t,"rmdir");await this.remove(t,!0,e)}rmdirSync(t,e){if(this.readdirSync(t,e).length>0)throw Kt.With("ENOTEMPTY",t,"rmdir");this.removeSync(t,!0,e)}async mkdir(t,e,n){const r=this.store.transaction(),i=gn("{}");await this.commitNew(r,t,_e,e,n,i)}mkdirSync(t,e,n){this.commitNewSync(t,_e,e,n,gn("{}"))}async readdir(t,e){const n=this.store.transaction(),r=await this.findINode(n,t);if(!r.toStats().hasAccess(qt,e))throw Kt.With("EACCES",t,"readdur");return Object.keys(await this.getDirListing(n,r,t))}readdirSync(t,e){const n=this.store.transaction(),r=this.findINodeSync(n,t);if(!r.toStats().hasAccess(qt,e))throw Kt.With("EACCES",t,"readdir");return Object.keys(this.getDirListingSync(n,r,t))}async sync(t,e,n){const r=this.store.transaction(),i=await this._findINode(r,hn(t),dn(t)),o=await this.getINode(r,i,t),s=o.update(n);try{await r.set(o.ino,e),s&&await r.set(i,o.data)}catch(t){throw await r.abort(),t}await r.commit()}syncSync(t,e,n){const r=this.store.transaction(),i=this._findINodeSync(r,hn(t),dn(t)),o=this.getINodeSync(r,i,t),s=o.update(n);try{r.setSync(o.ino,e),s&&r.setSync(i,o.data)}catch(t){throw r.abortSync(),t}r.commitSync()}async link(t,e,n){const r=this.store.transaction(),i=hn(t);if(!(await this.findINode(r,i)).toStats().hasAccess(qt,n))throw Kt.With("EACCES",i,"link");const o=hn(e),s=await this.findINode(r,o),a=await this.getDirListing(r,s,o);if(!s.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",o,"link");const c=await this._findINode(r,i,dn(t)),l=await this.getINode(r,c,t);if(!l.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",e,"link");l.nlink++,a[dn(e)]=c;try{r.setSync(c,l.data),r.setSync(s.ino,wn(a))}catch(t){throw r.abortSync(),t}r.commitSync()}linkSync(t,e,n){const r=this.store.transaction(),i=hn(t);if(!this.findINodeSync(r,i).toStats().hasAccess(qt,n))throw Kt.With("EACCES",i,"link");const o=hn(e),s=this.findINodeSync(r,o),a=this.getDirListingSync(r,s,o);if(!s.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",o,"link");const c=this._findINodeSync(r,i,dn(t)),l=this.getINodeSync(r,c,t);if(!l.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",e,"link");l.nlink++,a[dn(e)]=c;try{r.setSync(c,l.data),r.setSync(s.ino,wn(a))}catch(t){throw r.abortSync(),t}r.commitSync()}async checkRoot(){const t=this.store.transaction();if(await t.get(0n))return;const e=new qe;e.mode=511|_e,await t.set(e.ino,gn("{}")),await t.set(0n,e.data),await t.commit()}checkRootSync(){const t=this.store.transaction();if(t.getSync(0n))return;const e=new qe;e.mode=511|_e,t.setSync(e.ino,gn("{}")),t.setSync(0n,e.data),t.commitSync()}async _findINode(t,e,n,r=new Set){const i=fn(e,n);if(r.has(i))throw new Kt(Ht.EIO,"Infinite loop detected while finding inode",i);if(r.add(i),"/"==e&&""===n)return 0n;const o="/"==e?await this.getINode(t,0n,e):await this.findINode(t,e,r),s=await this.getDirListing(t,o,e);if(!(n in s))throw Kt.With("ENOENT",un(e,n),"_findINode");return s[n]}_findINodeSync(t,e,n,r=new Set){const i=fn(e,n);if(r.has(i))throw new Kt(Ht.EIO,"Infinite loop detected while finding inode",i);if(r.add(i),"/"==e&&""===n)return 0n;const o="/"==e?this.getINodeSync(t,0n,e):this.findINodeSync(t,e,r),s=this.getDirListingSync(t,o,e);if(!(n in s))throw Kt.With("ENOENT",un(e,n),"_findINode");return s[n]}async findINode(t,e,n=new Set){const r=await this._findINode(t,hn(e),dn(e),n);return this.getINode(t,r,e)}findINodeSync(t,e,n=new Set){const r=this._findINodeSync(t,hn(e),dn(e),n);return this.getINodeSync(t,r,e)}async getINode(t,e,n){const r=await t.get(e);if(!r)throw Kt.With("ENOENT",n,"getINode");return new qe(r.buffer)}getINodeSync(t,e,n){const r=t.getSync(e);if(!r)throw Kt.With("ENOENT",n,"getINode");return new qe(r.buffer)}async getDirListing(t,e,n){if(!e.toStats().isDirectory())throw Kt.With("ENOTDIR",n,"getDirListing");const r=await t.get(e.ino);if(!r)throw Kt.With("ENOENT",n,"getDirListing");return bn(r)}getDirListingSync(t,e,n){if(!e.toStats().isDirectory())throw Kt.With("ENOTDIR",n,"getDirListing");const r=t.getSync(e.ino);if(!r)throw Kt.With("ENOENT",n,"getDirListing");return bn(r)}async addNew(t,e,n){for(let n=0;n<5;n++){const n=Xe();if(!await t.get(n))return await t.set(n,e),n}throw new Kt(Ht.ENOSPC,"No inode IDs available",n,"addNewNode")}addNewSync(t,e,n){for(let n=0;n<5;n++){const n=Xe();if(!t.getSync(n))return t.setSync(n,e),n}throw new Kt(Ht.ENOSPC,"No inode IDs available",n,"addNewNode")}async commitNew(t,e,n,r,i,o){const s=hn(e),a=await this.findINode(t,s);if(!a.toStats().hasAccess(Zt,i))throw Kt.With("EACCES",e,"commitNewFile");const c=dn(e),l=await this.getDirListing(t,a,s);if("/"===e)throw Kt.With("EEXIST",e,"commitNewFile");if(l[c])throw await t.abort(),Kt.With("EEXIST",e,"commitNewFile");try{const s=new qe;return s.ino=await this.addNew(t,o,e),s.mode=r|n,s.uid=i.uid,s.gid=i.gid,s.size=o.length,l[c]=await this.addNew(t,s.data,e),await t.set(a.ino,wn(l)),await t.commit(),s}catch(e){throw await t.abort(),e}}commitNewSync(t,e,n,r,i=new Uint8Array){const o=this.store.transaction(),s=hn(t),a=this.findINodeSync(o,s);if(!a.toStats().hasAccess(Zt,r))throw Kt.With("EACCES",t,"commitNewFile");const c=dn(t),l=this.getDirListingSync(o,a,s);if("/"===t)throw Kt.With("EEXIST",t,"commitNewFile");if(l[c])throw Kt.With("EEXIST",t,"commitNewFile");const u=new qe;try{u.ino=this.addNewSync(o,i,t),u.size=i.length,u.mode=n|e,u.uid=r.uid,u.gid=r.gid,l[c]=this.addNewSync(o,u.data,t),o.setSync(a.ino,wn(l))}catch(t){throw o.abortSync(),t}return o.commitSync(),u}async remove(t,e,n){const r=this.store.transaction(),i=hn(t),o=await this.findINode(r,i),s=await this.getDirListing(r,o,i),a=dn(t);if(!s[a])throw Kt.With("ENOENT",t,"removeEntry");const c=s[a],l=await this.getINode(r,c,t);if(!l.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",t,"removeEntry");if(delete s[a],!e&&l.toStats().isDirectory())throw Kt.With("EISDIR",t,"removeEntry");if(e&&!l.toStats().isDirectory())throw Kt.With("ENOTDIR",t,"removeEntry");try{await r.set(o.ino,wn(s)),--l.nlink<1&&(await r.remove(l.ino),await r.remove(c))}catch(t){throw await r.abort(),t}await r.commit()}removeSync(t,e,n){const r=this.store.transaction(),i=hn(t),o=this.findINodeSync(r,i),s=this.getDirListingSync(r,o,i),a=dn(t),c=s[a];if(!c)throw Kt.With("ENOENT",t,"removeEntry");const l=this.getINodeSync(r,c,t);if(!l.toStats().hasAccess(Zt,n))throw Kt.With("EACCES",t,"removeEntry");if(delete s[a],!e&&l.toStats().isDirectory())throw Kt.With("EISDIR",t,"removeEntry");if(e&&!l.toStats().isDirectory())throw Kt.With("ENOTDIR",t,"removeEntry");try{r.setSync(o.ino,wn(s)),--l.nlink<1&&(r.removeSync(l.ino),r.removeSync(c))}catch(t){throw r.abortSync(),t}r.commitSync()}}class Nn{constructor(t){this.store=t,this.aborted=!1}async[Symbol.asyncDispose](){this.aborted||await this.commit()}[Symbol.dispose](){this.aborted||this.commitSync()}}class On extends Nn{async get(t){return this.getSync(t)}async set(t,e){return this.setSync(t,e)}async remove(t){return this.removeSync(t)}async commit(){return this.commitSync()}async abort(){return this.abortSync()}}class In extends On{constructor(t){super(t),this.originalData=new Map,this.modifiedKeys=new Set}getSync(t){const e=this.store.get(t);return this.stashOldValue(t,e),e}setSync(t,e){return this.markModified(t),this.store.set(t,e)}removeSync(t){this.markModified(t),this.store.delete(t)}commitSync(){}abortSync(){for(const t of this.modifiedKeys){const e=this.originalData.get(t);e?this.store.set(t,e):this.store.delete(t)}}stashOldValue(t,e){this.originalData.has(t)||this.originalData.set(t,e)}markModified(t){this.modifiedKeys.add(t),this.originalData.has(t)||this.originalData.set(t,this.store.get(t))}}class Rn extends Map{constructor(t="tmp"){super(),this.name=t}async sync(){}clearSync(){this.clear()}transaction(){return new In(this)}}const xn={name:"InMemory",isAvailable:()=>!0,options:{name:{type:"string",required:!1,description:"The name of the store"}},create({name:t}){const e=new An(new Rn(t));return e.checkRootSync(),e}};new Map;var Tn=n(287);let kn={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0};const Ln=new Map;let Cn=100;function Mn(t){const e=Cn++;return Ln.set(e,t),e}function Dn(t){if(!Ln.has(t))throw new Kt(Ht.EBADF);return Ln.get(t)}const Fn=new Map;function $n(t,e){if("/"!==t[0]&&(t="/"+t),t=un(t),Fn.has(t))throw new Kt(Ht.EINVAL,"Mount point "+t+" is already in use.");Fn.set(t,e)}function Pn(t){if("/"!==t[0]&&(t=`/${t}`),t=un(t),!Fn.has(t))throw new Kt(Ht.EINVAL,"Mount point "+t+" is already unmounted.");Fn.delete(t)}function Bn(t){t=Sn(t);const e=[...Fn].sort(((t,e)=>t[0].length>e[0].length?-1:1));for(const[n,r]of e)if(n.length<=t.length&&t.startsWith(n))return""===(t=t.slice(n.length>1?n.length:0))&&(t="/"),{fs:r,path:t,mountPoint:n};throw new Kt(Ht.EIO,"ZenFS not initialized with a file system")}function Un(t,e){for(const[n,r]of Object.entries(e))t=t?.replaceAll(n,r);return t}function jn(t,e){return"string"==typeof t.stack&&(t.stack=Un(t.stack,e)),t.message=Un(t.message,e),t}function Wn(t){"/"in t&&Pn("/");for(const[e,n]of Object.entries(t))$n(e,n)}function Vn(t,e){const n=t.metadata(),r=n.blockSize||4096;return{type:(e?BigInt:Number)(n.type),bsize:(e?BigInt:Number)(r),ffree:(e?BigInt:Number)(n.freeNodes||ze),files:(e?BigInt:Number)(n.totalNodes||ze),bavail:(e?BigInt:Number)(n.freeSpace/r),bfree:(e?BigInt:Number)(n.freeSpace/r),blocks:(e?BigInt:Number)(n.totalSpace/r)}}$n("/",xn.create({name:"root"}));var Gn=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},Hn=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}return function t(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(t,(function(e){return n(e),t()}))}catch(t){n(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});function Yn(t,e){t=Sn(t),e=Sn(e);const n=Bn(t),r=Bn(e),i={[n.path]:t,[r.path]:e};try{if(n===r)return n.fs.renameSync(n.path,r.path,kn);rr(e,nr(t)),Zn(t)}catch(t){throw jn(t,i)}}function zn(t){t=Sn(t);try{const{fs:e,path:n}=Bn(Ir(t));return e.existsSync(n,kn)}catch(t){if(t.errno==Ht.ENOENT)return!1;throw t}}function Kn(t,e){t=Sn(t);const{fs:n,path:r}=Bn(zn(t)?Ir(t):t);try{const t=n.statSync(r,kn);return e?.bigint?new Ge(t):t}catch(e){throw jn(e,{[r]:t})}}function Xn(t,e){t=Sn(t);const{fs:n,path:r}=Bn(t);try{const t=n.statSync(r,kn);return e?.bigint?new Ge(t):t}catch(e){throw jn(e,{[r]:t})}}function qn(t,e=0){const n={stack:[],error:void 0,hasError:!1};try{const r=Gn(n,Jn(t,"r+"),!1);if(e||(e=0),e<0)throw new Kt(Ht.EINVAL);r.truncateSync(e)}catch(t){n.error=t,n.hasError=!0}finally{Hn(n)}}function Zn(t){t=Sn(t);const{fs:e,path:n}=Bn(t);try{return e.unlinkSync(n,kn)}catch(e){throw jn(e,{[n]:t})}}function Jn(t,e,n,r=!0){t=Sn(t);const i=mn(n,420),o=Je(e);t=r&&zn(t)?Ir(t):t;const{fs:s,path:a}=Bn(t);if(!s.existsSync(a,kn)){if(!en(o)&&!rn(o)||"r+"==o)throw Kt.With("ENOENT",t,"_open");if(!s.statSync(hn(a),kn).isDirectory())throw Kt.With("ENOTDIR",hn(t),"_open");return s.createFileSync(a,o,i,kn)}const c=s.statSync(a,kn);if(!c.hasAccess(i,kn))throw Kt.With("EACCES",t,"_open");if(on(o))throw Kt.With("EEXIST",t,"_open");return nn(o)?(s.unlinkSync(a,kn),s.createFileSync(a,o,c.mode,kn)):s.openFileSync(a,o,kn)}function Qn(t,e,n=Xt){return Mn(Jn(t,e,n,!0))}function tr(t,e,n){return Mn(Jn(t,e,n,!1))}function er(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Gn(r,Jn(t,e,420,n),!1),o=i.statSync(),s=new Uint8Array(o.size);return i.readSync(s,0,o.size,0),i.closeSync(),s}catch(t){r.error=t,r.hasError=!0}finally{Hn(r)}}function nr(t,e={}){const n=vn(e,null,"r",420);if(!tn(Je(n.flag)))throw new Kt(Ht.EINVAL,"Flag passed to readFile must allow for reading.");const r=Tn.Buffer.from(er("number"==typeof t?Dn(t).path:t.toString(),n.flag,!0));return n.encoding?r.toString(n.encoding):r}function rr(t,e,n={}){const r={stack:[],error:void 0,hasError:!1};try{const i=vn(n,"utf8","w+",420),o=Je(i.flag);if(!en(o))throw new Kt(Ht.EINVAL,"Flag passed to writeFile must allow for writing.");if("string"!=typeof e&&!i.encoding)throw new Kt(Ht.EINVAL,"Encoding not specified");const s="string"==typeof e?Tn.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(!s)throw new Kt(Ht.EINVAL,"Data not specified");Gn(r,Jn("number"==typeof t?Dn(t).path:t.toString(),o,i.mode,!0),!1).writeSync(s,0,s.byteLength,0)}catch(t){r.error=t,r.hasError=!0}finally{Hn(r)}}function ir(t,e,n={}){const r={stack:[],error:void 0,hasError:!1};try{const i=vn(n,"utf8","a",420),o=Je(i.flag);if(!rn(o))throw new Kt(Ht.EINVAL,"Flag passed to appendFile must allow for appending.");if("string"!=typeof e&&!i.encoding)throw new Kt(Ht.EINVAL,"Encoding not specified");const s="string"==typeof e?Tn.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Gn(r,Jn("number"==typeof t?Dn(t).path:t.toString(),o,i.mode,!0),!1).writeSync(s,0,s.byteLength)}catch(t){r.error=t,r.hasError=!0}finally{Hn(r)}}function or(t,e){const n=Dn(t).statSync();return e?.bigint?new Ge(n):n}function sr(t){Dn(t).closeSync(),Ln.delete(t)}function ar(t,e=0){if(e||(e=0),e<0)throw new Kt(Ht.EINVAL);Dn(t).truncateSync(e)}function cr(t){Dn(t).syncSync()}function lr(t){Dn(t).datasyncSync()}function ur(t,e,n,r,i){let o,s,a,c;if("string"==typeof e){c="number"==typeof n?n:null;const t="string"==typeof r?r:"utf8";s=0,o=Tn.Buffer.from(e,t),a=o.byteLength}else o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=n,a=r,c="number"==typeof i?i:null;const l=Dn(t);return c??(c=l.position),l.writeSync(o,s,a,c)}function fr(t,e,n,r,i){const o=Dn(t),s="object"==typeof n?n.offset:n;return"object"==typeof n&&(r=n.length,i=n.position),i=Number(i),isNaN(i)&&(i=o.position),o.readSync(e,s,r,i)}function hr(t,e,n){Dn(t).chownSync(e,n)}function dr(t,e){const n=mn(e,-1);if(n<0)throw new Kt(Ht.EINVAL,"Invalid mode.");Dn(t).chmodSync(n)}function pr(t,e,n){Dn(t).utimesSync(En(e),En(n))}function yr(t){t=Sn(t);const{fs:e,path:n}=Bn(zn(t)?Ir(t):t);try{e.rmdirSync(n,kn)}catch(e){throw jn(e,{[n]:t})}}function gr(t,e){e="object"==typeof e?e:{mode:e};const n=mn(e?.mode,511);t=zn(t=Sn(t))?Ir(t):t;const{fs:r,path:i}=Bn(t),o={[i]:t};try{if(!e?.recursive)return r.mkdirSync(i,n,kn);const s=[];for(let e=i,n=t;!r.existsSync(e,kn);e=hn(e),n=hn(n))s.unshift(e),o[e]=n;for(const t of s)r.mkdirSync(t,n,kn);return s[0]}catch(t){throw jn(t,o)}}function br(t,e){t=Sn(t);const{fs:n,path:r}=Bn(zn(t)?Ir(t):t);let i;try{i=n.readdirSync(r,kn)}catch(e){throw jn(e,{[r]:t})}for(const e of Fn.keys()){if(!e.startsWith(t))continue;const n=e.slice(t.length);n.includes("/")||0==n.length||i.push(n)}return i.map((n=>"object"==typeof e&&e?.withFileTypes?new $r(n,Kn(fn(t.toString(),n))):"buffer"==e||"object"==typeof e&&"buffer"==e?.encoding?Tn.Buffer.from(n):n))}function wr(t,e){t=Sn(t),e=Sn(e);const{fs:n,path:r}=Bn(t);try{return n.linkSync(r,e,kn)}catch(e){throw jn(e,{[r]:t})}}function mr(t,e,n="file"){if(!["file","dir","junction"].includes(n))throw new Kt(Ht.EINVAL,"Invalid type: "+n);if(zn(e))throw Kt.With("EEXIST",e.toString(),"symlink");rr(e,t.toString()),Jn(e,"r+",420,!1)._setTypeSync(Ee)}function Er(t,e){const n=Tn.Buffer.from(er(t.toString(),"r",!1)),r="object"==typeof e?e?.encoding:e;return"buffer"==r?n:n.toString(r)}function Sr(t,e,n){const r=Qn(t,"r+");hr(r,e,n),sr(r)}function vr(t,e,n){const r=tr(t,"r+");hr(r,e,n),sr(r)}function _r(t,e){const n=Qn(t,"r+");dr(n,e),sr(n)}function Ar(t,e){const n=tr(t,"r+");dr(n,e),sr(n)}function Nr(t,e,n){const r=Qn(t,"r+");pr(r,e,n),sr(r)}function Or(t,e,n){const r=tr(t,"r+");pr(r,e,n),sr(r)}function Ir(t,e){t=Sn(t);const{base:n,dir:r}=pn(t),i=fn("/"==r?"/":Ir(r),n),{fs:o,path:s,mountPoint:a}=Bn(i);try{return o.statSync(s,kn).isSymbolicLink()?Ir(a+Er(i,e).toString()):i}catch(t){throw jn(t,{[s]:i})}}function Rr(t,e=384){if(!Kn(t).hasAccess(e,kn))throw new Kt(Ht.EACCES)}function xr(t,e){switch(Kn(t=Sn(t)).mode&we){case _e:if(e?.recursive)for(const e of br(t))xr(fn(t,e));return void yr(t);case Se:case Ee:return void Zn(t);default:throw new Kt(Ht.EPERM,"File type not supported",t,"rm")}}function Tr(t,e){const n="object"==typeof e?e?.encoding:e||"utf8",r=`/tmp/${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return gr(r),"buffer"==n?Tn.Buffer.from(r):r}function kr(t,e,n){if(t=Sn(t),e=Sn(e),n&&n&Qt&&zn(e))throw new Kt(Ht.EEXIST,"Destination file already exists.",e,"copyFile");rr(e,nr(t))}function Lr(t,e,n){const r=Dn(t);let i=0;for(const t of e)i+=r.readSync(t,0,t.byteLength,n+i);return i}function Cr(t,e,n){const r=Dn(t);let i=0;for(const t of e)i+=r.writeSync(new Uint8Array(t.buffer),0,t.byteLength,n+i);return i}function Mr(t,e){return t=Sn(t),new Pr(t)}function Dr(t,e,n){t=Sn(t),e=Sn(e);const r=Xn(t);if(n?.errorOnExist&&zn(e))throw new Kt(Ht.EEXIST,"Destination file or directory already exists.",e,"cp");switch(r.mode&we){case _e:if(!n?.recursive)throw new Kt(Ht.EISDIR,t+" is a directory (not copied)",t,"cp");gr(e,{recursive:!0});for(const r of br(t,{withFileTypes:!0}))n.filter&&!n.filter(fn(t,r.name),fn(e,r.name))||Dr(fn(t,r.name),fn(e,r.name),n);break;case Se:case Ee:kr(t,e);break;default:throw new Kt(Ht.EPERM,"File type not supported",t,"rm")}n?.preserveTimestamps&&Nr(e,r.atime,r.mtime)}function Fr(t,e){t=Sn(t);const{fs:n}=Bn(t);return Vn(n,e?.bigint)}class $r{get name(){return dn(this.path)}constructor(t,e){this.path=t,this.stats=e}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}}class Pr{checkClosed(){if(this.closed)throw new Kt(Ht.EBADF,"Can not use closed Dir")}constructor(t){this.path=t,this.closed=!1,this._entries=[]}close(t){if(this.closed=!0,!t)return Promise.resolve();t()}closeSync(){this.closed=!0}async _read(){return this._entries||(this._entries=await ii(this.path,{withFileTypes:!0})),this._entries.length&&this._entries.shift()||null}read(t){if(!t)return this._read();this._read().then((e=>t(void 0,e)))}readSync(){return this._entries||(this._entries=br(this.path,{withFileTypes:!0})),this._entries.length&&this._entries.shift()||null}[Symbol.asyncIterator](){const t=this;return{[Symbol.asyncIterator]:this[Symbol.asyncIterator],async next(){const e=await t._read();return null!=e?{done:!1,value:e}:(await t.close(),{done:!0,value:void 0})}}}}var Br=n(248);class Ur extends Br.Readable{close(t=()=>null){try{super.destroy(),super.emit("close"),t()}catch(e){t(new Kt(Ht.EIO,e.toString()))}}}class jr extends Br.Writable{close(t=()=>null){try{super.destroy(),super.emit("close"),t()}catch(e){t(new Kt(Ht.EIO,e.toString()))}}}var Wr=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},Vr=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}return function t(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(t,(function(e){return n(e),t()}))}catch(t){n(t)}}if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});class Gr{constructor(t){const e="number"!=typeof t;this.fd=e?Mn(t):t,this.file=e?t:Dn(t)}chown(t,e){return this.file.chown(t,e)}chmod(t){const e=mn(t,-1);if(e<0)throw new Kt(Ht.EINVAL,"Invalid mode.");return this.file.chmod(e)}datasync(){return this.file.datasync()}sync(){return this.file.sync()}truncate(t){if(t||(t=0),t<0)throw new Kt(Ht.EINVAL);return this.file.truncate(t)}utimes(t,e){return this.file.utimes(En(t),En(e))}async appendFile(t,e={}){const n=vn(e,"utf8","a",420);if(!rn(Je(n.flag)))throw new Kt(Ht.EINVAL,"Flag passed to appendFile must allow for appending.");if("string"!=typeof t&&!n.encoding)throw new Kt(Ht.EINVAL,"Encoding not specified");const r="string"==typeof t?Tn.Buffer.from(t,n.encoding):t;await this.file.write(r,0,r.length)}read(t,e,n,r){return isNaN(+r)&&(r=this.file.position),this.file.read(t,e,n,r)}async readFile(t){const e=vn(t,null,"r",292);if(!tn(Je(e.flag)))throw new Kt(Ht.EINVAL,"Flag passed must allow for reading.");const{size:n}=await this.stat(),{buffer:r}=await this.file.read(new Uint8Array(n),0,n,0),i=Tn.Buffer.from(r);return e.encoding?i.toString(e.encoding):i}readableWebStream(t={}){const e=globalThis;if(!("ReadableStream"in e))throw new Kt(Ht.ENOSYS,"ReadableStream is missing on globalThis");return new e.ReadableStream({start:async t=>{try{const e=65536,n=1e7;let r=0,i=0,o=NaN;for(;o>0;){const s=await this.read(new Uint8Array(e),0,e,i);if(!s.bytesRead)return void t.close();if(t.enqueue(s.buffer.slice(0,s.bytesRead)),i+=s.bytesRead,++r>=n)throw new Kt(Ht.EFBIG,"Too many iterations on readable stream",this.file.path,"FileHandle.readableWebStream");o=s.bytesRead}}catch(e){t.error(e)}},type:t.type})}readLines(t){throw Kt.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(t){const e=await this.file.stat();return t?.bigint?new Ge(e):e}async write(t,e,n,r){let i,o,s;if("string"==typeof t){r="number"==typeof e?e:null;const a="string"==typeof n?n:"utf8";o=0,i=Tn.Buffer.from(t,a),s=i.length}else i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o=e,s=n,r="number"==typeof r?r:null;return r??(r=this.file.position),{buffer:i,bytesWritten:await this.file.write(i,o,s,r)}}async writeFile(t,e={}){const n=vn(e,"utf8","w",420);if(!en(Je(n.flag)))throw new Kt(Ht.EINVAL,"Flag passed must allow for writing.");if("string"!=typeof t&&!n.encoding)throw new Kt(Ht.EINVAL,"Encoding not specified");const r="string"==typeof t?Tn.Buffer.from(t,n.encoding):t;await this.file.write(r,0,r.length,0)}async close(){await this.file.close(),Ln.delete(this.fd)}async writev(t,e){let n=0;for(const r of t)n+=(await this.write(r,0,r.length,e+n)).bytesWritten;return{bytesWritten:n,buffers:t}}async readv(t,e){let n=0;for(const r of t)n+=(await this.read(r,0,r.byteLength,e+n)).bytesRead;return{bytesRead:n,buffers:t}}createReadStream(t){const e=new Ur({highWaterMark:t?.highWaterMark||65536,encoding:t.encoding,read:async t=>{try{const n=await this.read(new Uint8Array(t),0,t,this.file.position);e.push(n.bytesRead?n.buffer.slice(0,n.bytesRead):null),this.file.position+=n.bytesRead}catch(t){e.destroy(t)}}});return e.path=this.file.path,e}createWriteStream(t){const e={highWaterMark:t?.highWaterMark,encoding:t?.encoding,write:async(t,e,n)=>{try{const{bytesWritten:r}=await this.write(t,null,e);n(r==t.length?null:new Error("Failed to write full chunk"))}catch(t){n(t)}}},n=new jr(e);return n.path=this.file.path,n}}async function Hr(t,e){t=Sn(t),e=Sn(e);const n=Bn(t),r=Bn(e);try{if(n.mountPoint==r.mountPoint)return void await n.fs.rename(n.path,r.path,kn);await ti(e,await Qr(t)),await qr(t)}catch(i){throw jn(i,{[n.path]:t,[r.path]:e})}}async function Yr(t){try{const{fs:e,path:n}=Bn(await pi(t));return await e.exists(n,kn)}catch(t){if(t instanceof Kt&&"ENOENT"==t.code)return!1;throw t}}async function zr(t,e){t=Sn(t);const{fs:n,path:r}=Bn(await Yr(t)?await pi(t):t);try{const t=await n.stat(r,kn);return e?.bigint?new Ge(t):t}catch(e){throw jn(e,{[r]:t})}}async function Kr(t,e){t=Sn(t);const{fs:n,path:r}=Bn(t);try{const t=await n.stat(r,kn);return e?.bigint?new Ge(t):t}catch(e){throw jn(e,{[r]:t})}}async function Xr(t,e=0){const n={stack:[],error:void 0,hasError:!1};try{const r=Wr(n,await Jr(t,"r+"),!0);await r.truncate(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=Vr(n);t&&await t}}async function qr(t){t=Sn(t);const{fs:e,path:n}=Bn(t);try{await e.unlink(n,kn)}catch(e){throw jn(e,{[n]:t})}}async function Zr(t,e,n=420,r){t=Sn(t);const i=mn(n,420),o=Je(e);t=r&&await Yr(t)?await pi(t):t;const{fs:s,path:a}=Bn(t);if(!await s.exists(a,kn)){if(!en(o)&&!rn(o)||"r+"==o)throw Kt.With("ENOENT",t,"_open");const e=await s.stat(hn(a),kn);if(e&&!e.isDirectory())throw Kt.With("ENOTDIR",hn(t),"_open");return new Gr(await s.createFile(a,o,i,kn))}if(on(o))throw Kt.With("EEXIST",t,"_open");if(!nn(o))return new Gr(await s.openFile(a,o,kn));const c=await s.openFile(a,o,kn);return await c.truncate(0),await c.sync(),new Gr(c)}async function Jr(t,e="r",n=420){return await Zr(t,e,n,!0)}async function Qr(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(e,null,"r",420),i=Wr(n,"object"==typeof t&&"fd"in t?t:await Jr(t,r.flag,r.mode),!0);return await i.readFile(r)}catch(t){n.error=t,n.hasError=!0}finally{const t=Vr(n);t&&await t}}async function ti(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=vn(n,"utf8","w+",420),o=Wr(r,t instanceof Gr?t:await Jr(t.toString(),i.flag,i.mode),!0),s=e;if("string"!=typeof s&&!(s instanceof Uint8Array))throw new Kt(Ht.EINVAL,"Iterables and streams not supported",o.file.path,"writeFile");await o.writeFile(s,i)}catch(t){r.error=t,r.hasError=!0}finally{const t=Vr(r);t&&await t}}async function ei(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=vn(n,"utf8","a",420);if(!rn(Je(i.flag)))throw new Kt(Ht.EINVAL,"Flag passed to appendFile must allow for appending.");if("string"!=typeof e&&!i.encoding)throw new Kt(Ht.EINVAL,"Encoding not specified");const o="string"==typeof e?Tn.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=Wr(r,"object"==typeof t&&"fd"in t?t:await Jr(t,i.flag,i.mode),!0);await s.appendFile(o,i)}catch(t){r.error=t,r.hasError=!0}finally{const t=Vr(r);t&&await t}}async function ni(t){t=Sn(t),t=await Yr(t)?await pi(t):t;const{fs:e,path:n}=Bn(t);try{await e.rmdir(n,kn)}catch(e){throw jn(e,{[n]:t})}}async function ri(t,e){e="object"==typeof e?e:{mode:e};const n=mn(e?.mode,511);t=Sn(t),t=await Yr(t)?await pi(t):t;const{fs:r,path:i}=Bn(t),o={[i]:t};try{e?.recursive||await r.mkdir(i,n,kn);const s=[];for(let e=i,n=t;!await r.exists(e,kn);e=hn(e),n=hn(n))s.unshift(e),o[e]=n;for(const t of s)await r.mkdir(t,n,kn);return s[0]}catch(t){throw jn(t,o)}}async function ii(t,e){t=Sn(t),t=await Yr(t)?await pi(t):t;const{fs:n,path:r}=Bn(t);let i;try{i=await n.readdir(r,kn)}catch(e){throw jn(e,{[r]:t})}for(const e of Fn.keys())if(e.startsWith(t)){const n=e.slice(t.length);if(n.includes("/")||0==n.length)continue;i.push(n)}const o=[];for(const n of i)o.push("object"==typeof e&&e?.withFileTypes?new $r(n,await zr(fn(t,n))):n);return o}async function oi(t,e){t=Sn(t),e=Sn(e);const{fs:n,path:r}=Bn(e);try{return await n.link(t,e,kn)}catch(t){throw jn(t,{[r]:e})}}async function si(t,e,n="file"){if(!["file","dir","junction"].includes(n))throw new Kt(Ht.EINVAL,"Invalid symlink type: "+n);if(await Yr(e))throw Kt.With("EEXIST",e.toString(),"symlink");await ti(e,t.toString());const r=await Zr(e,"r+",420,!1);await r.file._setType(Ee)}async function ai(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Wr(n,await Zr(Sn(t),"r",420,!1),!0),i=await r.readFile(),o="object"==typeof e?e?.encoding:e;return"buffer"==o?i:i.toString(o)}catch(t){n.error=t,n.hasError=!0}finally{const t=Vr(n);t&&await t}}async function ci(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Wr(r,await Jr(t,"r+"),!0);await i.chown(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=Vr(r);t&&await t}}async function li(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Wr(r,await Zr(t,"r+",420,!1),!0);await i.chown(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=Vr(r);t&&await t}}async function ui(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Wr(n,await Jr(t,"r+"),!0);await r.chmod(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=Vr(n);t&&await t}}async function fi(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Wr(n,await Zr(t,"r+",420,!1),!0);await r.chmod(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=Vr(n);t&&await t}}async function hi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Wr(r,await Jr(t,"r+"),!0);await i.utimes(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=Vr(r);t&&await t}}async function di(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Wr(r,await Zr(t,"r+",420,!1),!0);await i.utimes(new Date(e),new Date(n))}catch(t){r.error=t,r.hasError=!0}finally{const t=Vr(r);t&&await t}}async function pi(t,e){t=Sn(t);const{base:n,dir:r}=pn(t),i=fn("/"==r?"/":await pi(r),n),{fs:o,path:s,mountPoint:a}=Bn(i);try{return(await o.stat(s,kn)).isSymbolicLink()?pi(a+await ai(i)):i}catch(t){throw jn(t,{[s]:i})}}function yi(t,e={}){throw Kt.With("ENOSYS",t.toString(),"watch")}async function gi(t,e=Xt){if(!(await zr(t)).hasAccess(e,kn))throw new Kt(Ht.EACCES)}async function bi(t,e){switch(t=Sn(t),(await zr(t)).mode&we){case _e:if(e?.recursive)for(const e of await ii(t))await bi(fn(t,e));return void await ni(t);case Se:case Ee:return void await qr(t);default:throw new Kt(Ht.EPERM,"File type not supported",t,"rm")}}async function wi(t,e){const n="object"==typeof e?e?.encoding:e||"utf8",r=`/tmp/${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await ri(r),"buffer"==n?Tn.Buffer.from(r):r}async function mi(t,e,n){if(t=Sn(t),e=Sn(e),n&&n&Qt&&await Yr(e))throw new Kt(Ht.EEXIST,"Destination file already exists.",e,"copyFile");await ti(e,await Qr(t))}async function Ei(t,e){return t=Sn(t),new Pr(t)}async function Si(t,e,n){t=Sn(t),e=Sn(e);const r=await Kr(t);if(n?.errorOnExist&&await Yr(e))throw new Kt(Ht.EEXIST,"Destination file or directory already exists.",e,"cp");switch(r.mode&we){case _e:if(!n?.recursive)throw new Kt(Ht.EISDIR,t+" is a directory (not copied)",t,"cp");await ri(e,{recursive:!0});for(const r of await ii(t,{withFileTypes:!0}))n.filter&&!n.filter(fn(t,r.name),fn(e,r.name))||await Si(fn(t,r.name),fn(e,r.name),n);break;case Se:case Ee:await mi(t,e);break;default:throw new Kt(Ht.EPERM,"File type not supported",t,"rm")}n?.preserveTimestamps&&await hi(e,r.atime,r.mtime)}async function vi(t,e){t=Sn(t);const{fs:n}=Bn(t);return Vn(n,e?.bigint)}function _i(t,e,n=_n){Hr(t,e).then((()=>n())).catch(n)}function Ai(t,e=_n){Yr(t).then(e).catch((()=>e(!1)))}function Ni(t,e,n=_n){n="function"==typeof e?e:n,zr(t,"function"!=typeof e?e:{}).then((t=>n(void 0,t))).catch(n)}function Oi(t,e,n=_n){n="function"==typeof e?e:n,Kr(t,"function"!=typeof e?e:{}).then((t=>n(void 0,t))).catch(n)}function Ii(t,e=0,n=_n){n="function"==typeof e?e:n,Xr(t,"number"==typeof e?e:0).then((()=>n())).catch(n)}function Ri(t,e=_n){qr(t).then((()=>e())).catch(e)}function xi(t,e,n,r=_n){const i=mn(n,420);r="function"==typeof n?n:r,Jr(t,e,i).then((t=>r(void 0,t.fd))).catch(r)}function Ti(t,e,n=_n){n="function"==typeof e?e:n,Qr(t,"function"==typeof e?null:e).then((t=>n(void 0,t))).catch(n)}function ki(t,e,n,r=_n){r="function"==typeof n?n:r,ti(t,e,"function"!=typeof n?n:null).then((()=>r(void 0))).catch(r)}function Li(t,e,n,r=_n){r="function"==typeof n?n:r,ei(t,e,"function"!=typeof n?n:void 0).then((()=>r())).catch(r)}function Ci(t,e,n=_n){n="function"==typeof e?e:n,Dn(t).stat().then((t=>n(void 0,"object"==typeof e&&e?.bigint?new Ge(t):t))).catch(n)}function Mi(t,e=_n){new Gr(t).close().then((()=>e())).catch(e)}function Di(t,e,n=_n){const r="number"==typeof e?e:0;n="function"==typeof e?e:n;const i=Dn(t);if(r<0)throw new Kt(Ht.EINVAL);i.truncate(r).then((()=>n())).catch(n)}function Fi(t,e=_n){Dn(t).sync().then((()=>e())).catch(e)}function $i(t,e=_n){Dn(t).datasync().then((()=>e())).catch(e)}function Pi(t,e,n,r,i,o=_n){let s,a,c,l,u;const f=new Gr(t);if("string"==typeof e){switch(u="utf8",typeof n){case"function":o=n;break;case"number":l=n,u="string"==typeof r?r:"utf8",o="function"==typeof i?i:o;break;default:return void(o="function"==typeof r?r:"function"==typeof i?i:o)(new Kt(Ht.EINVAL,"Invalid arguments."))}s=Tn.Buffer.from(e),a=0,c=s.length;const t=o;f.write(s,a,c,l).then((({bytesWritten:e})=>t(void 0,e,s.toString(u)))).catch(t)}else{s=Tn.Buffer.from(e.buffer),a=n,c=r,l="number"==typeof i?i:null;const t="function"==typeof i?i:o;f.write(s,a,c,l).then((({bytesWritten:e})=>t(void 0,e,s))).catch(t)}}function Bi(t,e,n,r,i,o=_n){new Gr(t).read(e,n,r,i).then((({bytesRead:t,buffer:e})=>o(void 0,t,e))).catch(o)}function Ui(t,e,n,r=_n){new Gr(t).chown(e,n).then((()=>r())).catch(r)}function ji(t,e,n){new Gr(t).chmod(e).then((()=>n())).catch(n)}function Wi(t,e,n,r=_n){new Gr(t).utimes(e,n).then((()=>r())).catch(r)}function Vi(t,e=_n){ni(t).then((()=>e())).catch(e)}function Gi(t,e,n=_n){ri(t,e).then((()=>n())).catch(n)}function Hi(t,e,n=_n){n="function"==typeof e?e:n,ii(t,"function"!=typeof e?e:{}).then((t=>n(void 0,t))).catch(n)}function Yi(t,e,n=_n){oi(t,e).then((()=>n())).catch(n)}function zi(t,e,n,r=_n){r="function"==typeof n?n:r,si(t,e,"string"==typeof n?n:"file").then((()=>r())).catch(r)}function Ki(t,e,n=_n){n="function"==typeof e?e:n,ai(t).then((t=>n(void 0,t))).catch(n)}function Xi(t,e,n,r=_n){ci(t,e,n).then((()=>r())).catch(r)}function qi(t,e,n,r=_n){li(t,e,n).then((()=>r())).catch(r)}function Zi(t,e,n=_n){ui(t,e).then((()=>n())).catch(n)}function Ji(t,e,n=_n){fi(t,e).then((()=>n())).catch(n)}function Qi(t,e,n,r=_n){hi(t,e,n).then((()=>r())).catch(r)}function to(t,e,n,r=_n){di(t,e,n).then((()=>r())).catch(r)}function eo(t,e,n=_n){n="function"==typeof e?e:n,pi(t).then((t=>n(void 0,t))).catch(n)}function no(t,e,n=_n){n="function"==typeof e?e:n,gi(t,"number"==typeof e?e:qt).then((()=>n())).catch(n)}function ro(t,e,n=_n){throw Kt.With("ENOSYS",t.toString(),"watchFile")}function io(t,e=_n){throw Kt.With("ENOSYS",t.toString(),"unwatchFile")}function oo(t,e,n=_n){throw Kt.With("ENOSYS",t.toString(),"watch")}function so(t,e){const n="object"==typeof e?e:{encoding:e};let r;const i=new Ur({highWaterMark:n.highWaterMark||65536,encoding:n.encoding||"utf8",async read(e){try{r||(r=await Jr(t,"r",n?.mode));const o=await r.read(new Uint8Array(e),0,e,r.file.position);i.push(o.bytesRead?o.buffer.slice(0,o.bytesRead):null),r.file.position+=o.bytesRead,o.bytesRead||await r.close()}catch(t){await(r?.close()),i.destroy(t)}},destroy(t,e){r?.close().then((()=>e(t))).catch(e)}});return i.path=t.toString(),i}function ao(t,e){const n="object"==typeof e?e:{encoding:e};let r;const i=new jr({highWaterMark:n?.highWaterMark,async write(e,i,o){try{r||(r=await Jr(t,"w",n?.mode||438)),await r.write(e,0,i),o(void 0)}catch(t){await(r?.close()),o(t)}},destroy(t,e){e(t),r?.close().then((()=>e(t))).catch(e)},final(t){r?.close().then((()=>t())).catch(t)}});return i.path=t.toString(),i}function co(t,e,n=_n){n="function"==typeof e?e:n,bi(t,"function"==typeof e?void 0:e).then((()=>n(void 0))).catch(n)}function lo(t,e,n=_n){n="function"==typeof e?e:n,wi(t,"function"!=typeof e?e:null).then((t=>n(void 0,t))).catch(n)}function uo(t,e,n,r=_n){r="function"==typeof n?n:r,mi(t,e,"function"==typeof n?void 0:n).then((()=>r(void 0))).catch(r)}function fo(t,e,n,r=_n){r="function"==typeof n?n:r,new Gr(t).readv(e,"function"==typeof n?void 0:n).then((({buffers:t,bytesRead:e})=>r(void 0,e,t))).catch(r)}function ho(t,e,n,r=_n){r="function"==typeof n?n:r,new Gr(t).writev(e,"function"==typeof n?void 0:n).then((({buffers:t,bytesWritten:e})=>r(void 0,e,t))).catch(r)}function po(t,e,n=_n){n="function"==typeof e?e:n,Ei(t).then((t=>n(void 0,t))).catch(n)}function yo(t,e,n,r=_n){r="function"==typeof n?n:r,Si(t,e,"function"==typeof n?void 0:n).then((()=>r(void 0))).catch(r)}function go(t,e,n=_n){n="function"==typeof e?e:n,vi(t,"function"==typeof e?void 0:e).then((t=>n(void 0,t))).catch(n)}async function bo(t,e){const n=await Jr(t.toString(),"r"),r=await n.readFile();return await n.close(),new Blob([r],e)}new Map;n(228);Symbol.toStringTag,Symbol.iterator;Symbol.toStringTag,Symbol.iterator;Symbol.toStringTag,Symbol.toStringTag;const wo=Symbol("struct_init");Symbol("struct");const mo=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64"],Eo=[...mo,...mo.map((t=>{return(e=t).at(0).toUpperCase()+e.slice(1);var e})),"char"];function So(t,e){return function(n,r){let i="object"==typeof r?r.name:r;if("symbol"==typeof i&&(console.warn("Symbol used for struct member name will be coerced to string: "+i.toString()),i=i.toString()),!i)throw new ReferenceError("Invalid name for struct member");if("object"!=typeof n)throw new TypeError("Invalid member for struct field");if(!("constructor"in n))throw new TypeError("Invalid member for struct field");const o=n.constructor;o[wo]||=[],o[wo].push({name:i,type:t,length:e})}}function vo(t){return function(e,n){return"number"==typeof e?So(t,e):So(t)(e,n)}}Object.fromEntries(Eo.map((t=>[t,vo(t)]))),Map,"function"==typeof SuppressedError&&SuppressedError;const _o=r,Ao=function(t={}){const e=Object.assign({LUA_PATH:"./?.lua",stdin:"",stdout:console.log},t),n=function(t,e){function n(t,n,r,o){let s,a="";if(t instanceof Function){let e=" ";for(;""!==e&&void 0!==e;)a+=e,e=t()[0]}else a=_(t,"load",1);try{s=H(a)}catch(t){return[void 0,t.message]}return()=>e(o||i,s)}function r(e,r,i){const o=void 0===e?t.stdin:_(e,"loadfile",1);if(!t.fileExists)throw new u("loadfile requires the config.fileExists function");if(!t.fileExists(o))return[void 0,"file not found"];if(!t.loadFile)throw new u("loadfile requires the config.loadFile function");return n(t.loadFile(o),0,0,i)}const i=new f({_VERSION:"Lua 5.3",assert:Z,dofile:function(t){const e=r(t);if(Array.isArray(e)&&void 0===e[0])throw new u(e[1]);return e()},collectgarbage:J,error:Q,getmetatable:tt,ipairs:et,load:n,loadfile:r,next:nt,pairs:rt,pcall:it,print:function(...e){const n=e.map((t=>y(t))).join("\t");t.stdout(n)},rawequal:ot,rawget:st,rawlen:at,rawset:ct,select:lt,setmetatable:ut,tonumber:ft,tostring:y,type:p,xpcall:ht});return i}(e,Gt),{libPackage:r,_require:i}=((t,e)=>{const r=e.LUA_PATH,i=["/",";","?","!","-"].join("\n"),o=new f,s=new f,a=(t,n,r,i)=>{if(!e.fileExists)throw new u("package.searchpath requires the config.fileExists function");let o=_(t,"searchpath",1);const s=_(n,"searchpath",2),a=void 0===r?".":_(r,"searchpath",3),c=void 0===i?"/":_(i,"searchpath",4);o=o.replace(a,c);const l=s.split(";").map((t=>t.replace("?",o)));for(const t of l)if(e.fileExists(t))return t;return[void 0,`The following files don't exist: ${l.join(" ")}`]},c=new f([t=>{const e=s.rawget(t);return void 0===e?[void 0]:[e]},t=>{const r=a(t,l.rawget("path"));if(Array.isArray(r)&&void 0===r[0])return[r[1]];if(!e.loadFile)throw new u("package.searchers requires the config.loadFile function");return[(t,r)=>((t,e)=>Gt(n,H(t),e)[0])(e.loadFile(r),t),r]}]),l=new f({path:r,config:i,loaded:o,preload:s,searchers:c,searchpath:a});return{libPackage:l,_require:function(t){const e=_(t,"require",1),n=o.rawget(e);if(n)return n;const r=c.numValues.filter((t=>!!t));for(const t of r){const n=t(e);if(void 0!==n[0]&&"string"!=typeof n[0]){const t=(0,n[0])(e,n[1]),r=void 0===t||t;return o.rawset(e,r),r}}throw new u(`Module '${e}' not found!`)}}})(0,e),o=r.get("loaded"),s=(t,e)=>{n.rawset(t,e),o.rawset(t,e)};s("_G",n),s("package",r),s("math",Rt),s("table",Tt),s("string",K),s("os",(t=>new f({date:$t,exit:function(e){if(!t.osExit)throw new u("os.exit requires the config.osExit function");let n=0;"boolean"==typeof e&&!1===e?n=1:"number"==typeof e&&(n=e),t.osExit(n)},setlocale:Pt,time:Bt,difftime:Ut}))(e)),n.rawset("require",i);const a=t=>{const e=H(t);return{exec:()=>Gt(n,e)[0]}};return{parse:a,parseFile:t=>{if(!e.fileExists)throw new u("parseFile requires the config.fileExists function");if(!e.loadFile)throw new u("parseFile requires the config.loadFile function");if(!e.fileExists(t))throw new u("file not found");return a(e.loadFile(t))},loadLib:s}}({fileExists:t=>_o.existsSync(t),loadFile:t=>_o.readFileSync(t,{encoding:"utf8"})}),No=(Ao.parse(_o.readFileSync("/dist/main.lua","utf-8")).exec(),document.createElement("canvas")),Oo=No.getContext("2d");No.width=720,No.height=540,Ro(0,0,0);var Io=[];for(let t=0;t<180;t++){Io[t]=[];for(let e=0;e<240;e++)Io[t][e]=Ro(0,0,0)}function Ro(t,e,n){return new i(t,e,n)}window.onload=()=>{console.log("Hello World"),document.body.insertBefore(No,document.body.childNodes[0]),setInterval(function(){Oo.clearRect(0,0,No.width,No.height);for(let t=0;t<180;t++)for(let e=0;e<240;e++)Oo.fillStyle=Io[t][e].toString(),Oo.fillRect(3*e,3*t,3,3)}(),1e3/60),console.log("interval set")}})()})();</script></head><body></body></html>